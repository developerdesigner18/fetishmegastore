import{r as o,j as l,a as t,H as U,h as p,F as J}from"./app.b55b7b24.js";import{F as K}from"./Front.204303ed.js";import{_ as a}from"./Translate.dc83ae5b.js";import{S as P}from"./SecondaryButton.fb585d7e.js";import{F as Q}from"./index.esm.20e87f89.js";import{S as W}from"./Spinner.f7051ff4.js";import z from"./GalleryLoop.30e35a8e.js";import{M as X}from"./Modal.16eb4526.js";import Y from"./SingleVideo.4d2e3f20.js";import{T as Z}from"./TextInput.60bd8868.js";import{d as q}from"./react-cookie-consent.esm.c359df54.js";import{a as ee}from"./index.esm.72250300.js";import{A as te}from"./AdBar.75efc618.js";import{P as ae}from"./Pagination.8650f574.js";import"./iconBase.c9d6e0f8.js";import"./index.aece37d8.js";import"./index.ed62628f.js";import"./index.d226c3dd.js";import"./react-toastify.esm.b0778105.js";import"./index.e7e076b2.js";import"./index.esm.6c6b8a7f.js";import"./react-tooltip.min.bbf5e269.js";/* empty css                          */import"./index.esm.33c290c5.js";import"./Loader.ab3ad1ff.js";import"./transition.b14c266a.js";import"./AuthenticatedLayout.add8c7e1.js";import"./index.ec42c783.js";import"./PrimaryButton.cd9ccef6.js";import"./index.81cb27cb.js";function Re({userrequest:c,videos:i,category:re,categories:M,exploreImage:H,tags:T,models:I,headTitle:le,randomvideos:x}){const[n,h]=o.exports.useState(c.sort||"Recently"),[f,_]=o.exports.useState(""),[B,m]=o.exports.useState(!1),[b,oe]=o.exports.useState(!1),[G,L]=o.exports.useState(!1),[se,R]=o.exports.useState(1),[V,w]=o.exports.useState(c.page||1);q(e=>{e.target.value.length>2?(m(!0),p.Inertia.reload({data:{keyword:e.target.value,sortBy:n},only:["videos"],onFinish:()=>m(!1)})):p.Inertia.reload({data:{sortBy:n,keyword:""},only:["videos"],onFinish:()=>m(!1)})},500),o.exports.useEffect(()=>{},[V]);const j=e=>{console.log("Page: ",e),w(e);let r=i.path+"?page="+e;console.log("Path: ",r),p.Inertia.visit(r)},u=o.exports.useRef(),[k,y]=o.exports.useState(c.selectedCategories),[v,N]=o.exports.useState(c.selectedTags),[S,C]=o.exports.useState(c.selectedModels),$=e=>{e.preventDefault(),R(1),w(1),p.Inertia.visit(route("gallery.browse",{search:f,sort:n,selectedCategories:k,selectedTags:v,selectedModels:S}),{only:["videos","randomvideos"],preserveState:!0,onBefore:()=>m(!0),onFinish:()=>m(!1)}),F()},A=e=>{const{value:r,checked:d}=e.target;y(d?s=>[...s,r]:s=>s.filter(g=>g!==r))},D=e=>{const{value:r,checked:d}=e.target;N(d?s=>[...s,r]:s=>s.filter(g=>g!==r))},O=e=>{const{value:r,checked:d}=e.target;d?(console.log("event",d),C(s=>[...s,r])):C(s=>s.filter(g=>g!==r))},E=e=>{e.preventDefault();const r="fixed inset-0 z-[9999] pt-5 px-2 overflow-scroll h-screen bg-white dark:bg-black  block w-2/3 flex-shrink-0 mr-5";u.current.className=r},F=e=>{e==null||e.preventDefault();const r="hidden lg:block w-56 lg:flex-shrink-0 lg:mr-5";console.log(`hiding filters ${r}`),u.current.className=r};return l(K,{containerClass:"w-full",extraHeader:!0,extraHeaderTitle:a("Browse Gallery"),extraHeaderImage:H,extraHeaderText:"",extraImageHeight:"h-14",children:[t(U,{title:"Gallery"}),t(X,{show:G,onClose:e=>L(!1),children:b&&t(Y,{video:b,inModal:!0})}),l("div",{className:"flex w-full -mt-16",children:[t("form",{onSubmit:$,children:l("div",{ref:u,className:"hidden lg:block w-56 lg:flex-shrink-0 lg:mr-5",children:[t("h3",{className:"text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900 dark:text-white shadow rounded-t-lg",children:a("Search")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3",children:t(Z,{className:"w-full",name:"search",value:f,handleChange:e=>_(e.target.value),placeholder:a("Search Video")})}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900 dark:text-white shadow rounded-t-lg",children:a("Sort By")}),l("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3",children:[l("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"radio",name:"sort",value:"Most",checked:n==="Most",className:"mr-2",onChange:e=>h(e.target.value)}),a("Most Viewed")]}),l("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"radio",name:"sort",value:"Recently",checked:n==="Recently",className:"mr-2",onChange:e=>h(e.target.value)}),a("Newest Uploaded")]}),l("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"radio",name:"sort",checked:n==="Older",value:"Older",className:"mr-2",onChange:e=>h(e.target.value)}),a("Older Videos")]}),l("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"radio",name:"sort",checked:n==="Highest",value:"Highest",className:"mr-2",onChange:e=>h(e.target.value)}),a("Highest Price")]}),l("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"radio",name:"sort",checked:n==="Lowest",value:"Lowest",className:"mr-2",onChange:e=>h(e.target.value)}),a("Lowest Price")]})]}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900  dark:text-white shadow rounded-t-lg",children:a("Category")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3 overflow-y-auto h-48",children:M.map(e=>l("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"checkbox",name:"categories[]",className:"mr-2",value:e.id,onChange:A,checked:k.includes(e.id.toString())}),e.category]},`catFilter-${e.id}`))}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900  dark:text-white shadow rounded-t-lg",children:a("Tags")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3 overflow-y-auto h-48",children:T.map(e=>{var r;return l("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"checkbox",name:"tags[]",className:"mr-2",value:e.name,onChange:D,checked:v.includes((r=e==null?void 0:e.name)==null?void 0:r.toString())}),e.name]},`tagFilter-${e.id}`)})}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900  dark:text-white shadow rounded-t-lg",children:a("Models")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3 overflow-y-auto h-48",children:I.map(e=>l("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"checkbox",name:"models[]",className:"mr-2",value:e.id,onChange:O,checked:S.includes(e.id.toString())}),e.name]},`modelFilter-${e.id}`))}),B?t("div",{className:"my-3",children:t(W,{})}):t("button",{className:"mt-5 bg-indigo-500 dark:bg-zinc-800 font-semibold text-white rounded-lg px-2 py-1.5 block w-full",children:a("Apply Filters")}),t(P,{className:"mt-2",onClick:e=>p.Inertia.visit(route("videos.browse")),children:a("Reset")}),t("div",{className:"lg:hidden text-center border-t border-t-gray-300 dark:border-gray-900 py-5",children:t(P,{className:"",onClick:e=>F(e),children:a("Close")})})]})}),l("div",{className:"flex-grow",children:[l("button",{onClick:e=>E(e),className:"mb-7 px-3 -mt-1 py-1.5 bg-indigo-500 text-white rounded-lg lg:hidden flex items-center justify-end",children:[t(ee,{className:"mr-1"}),a("Show Filters")]}),i.total===0&&l("div",{className:"text-xl bg-white rounded-lg shadow text-gray-600 dark:bg-zinc-900 dark:text-white font-light p-3 flex items-center",children:[t(Q,{className:"w-12 h-12 mr-2"}),a("No Gallery to show")]}),i.current_page==1&&x.total>0&&l("div",{children:[t("h2",{className:"text-indigo-700 text-2xl font-bold dark:text-white",children:a("Random Galleries")}),t(z,{videos:x.data}),t("h2",{className:"text-indigo-700 text-2xl font-bold dark:text-white",children:a("Filtered Galleries")})]}),t(z,{videos:i.data}),i.last_page>1&&l(J,{children:[t("div",{className:"flex text-gray-600 mt-10 mb-5 text-sm",children:a("Page: :pageNumber of :lastPage",{pageNumber:i.current_page,lastPage:i.last_page})}),t(ae,{total:i.last_page*10,defaultCurrent:i.current_page,onChange:j,showSizeChanger:!1})]})]})]}),t("div",{className:"mt-3",children:t(te,{})})]})}export{Re as default};
