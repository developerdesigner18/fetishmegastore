import{r as i,j as a,a as t,H as I,h as b}from"./app.b55b7b24.js";import{_ as l}from"./Translate.dc83ae5b.js";import{S as w}from"./SecondaryButton.fb585d7e.js";import{a as j,b as B}from"./index.d226c3dd.js";import{S as _}from"./Spinner.f7051ff4.js";import{F as $}from"./Front.204303ed.js";import{T as D}from"./TextInput.60bd8868.js";import"./slick-theme.95c773d6.js";import"./index.aece37d8.js";import"./iconBase.c9d6e0f8.js";import"./index.ed62628f.js";import"./react-cookie-consent.esm.c359df54.js";import"./transition.b14c266a.js";import"./Modal.16eb4526.js";import"./react-toastify.esm.b0778105.js";import"./index.e7e076b2.js";import"./index.esm.6c6b8a7f.js";function q({blog:k,exploreImage:N,userrequest:n,tags:v,categories:y}){const S=k,[c,z]=i.exports.useState(""),[h,g]=i.exports.useState(n.selectedCategories),[m,x]=i.exports.useState(n.selectedTags),[C,u]=i.exports.useState(!1),f=i.exports.useRef(),T=e=>{e.preventDefault(),b.Inertia.visit(route("web.story.index",{search:c,selectedCategories:h,selectedTags:m}),{only:["blog"],preserveState:!0,onBefore:()=>u(!0),onFinish:()=>u(!1)}),p()},F=e=>{const{value:r,checked:o}=e.target;g(o?s=>[...s,r]:s=>s.filter(d=>d!==r))},H=e=>{const{value:r,checked:o}=e.target;x(o?s=>[...s,r]:s=>s.filter(d=>d!==r))},p=e=>{e==null||e.preventDefault();const r="hidden lg:block w-56 lg:flex-shrink-0 lg:mr-5";console.log(`hiding filters ${r}`),f.current.className=r};return a($,{containerClass:"w-full",extraHeader:!0,extraHeaderTitle:l("Stories"),extraHeaderImage:N,extraHeaderText:"",extraImageHeight:"h-14",children:[t(I,{title:l("Stories")}),a("div",{className:"flex w-full -mt-16",children:[t("form",{onSubmit:T,children:a("div",{ref:f,className:"hidden lg:block w-56 lg:flex-shrink-0 lg:mr-5",children:[t("h3",{className:"text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900 dark:text-white shadow rounded-t-lg",children:l("Search")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3",children:t(D,{className:"w-full",name:"search",value:c,handleChange:e=>z(e.target.value),placeholder:l("Search Video")})}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900  dark:text-white shadow rounded-t-lg",children:l("Category")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3 overflow-y-auto h-48",children:y.map(e=>a("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"checkbox",name:"categories[]",className:"mr-2",value:e.id,onChange:F,checked:h.includes(e.id.toString())}),e.category]},`catFilter-${e.id}`))}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900  dark:text-white shadow rounded-t-lg",children:l("Tags")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3 overflow-y-auto h-48",children:v.map(e=>{var r;return a("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"checkbox",name:"tags[]",className:"mr-2",value:e.id,onChange:H,checked:m.includes((r=e==null?void 0:e.id)==null?void 0:r.toString())}),e.name]},`tagFilter-${e.id}`)})}),C?t("div",{className:"my-3",children:t(_,{})}):t("button",{className:"mt-5 bg-indigo-500 dark:bg-zinc-800 font-semibold text-white rounded-lg px-2 py-1.5 block w-full",children:l("Apply Filters")}),t(w,{className:"mt-2",onClick:e=>b.Inertia.visit(route("web.story.index")),children:l("Reset")}),t("div",{className:"lg:hidden text-center border-t border-t-gray-300 dark:border-gray-900 py-5",children:t(w,{className:"",onClick:e=>p(e),children:l("Close")})})]})}),t("div",{className:"flex-grow",children:S.map((e,r)=>a("div",{className:"flex flex-col md:flex-row items-start mb-4",children:[t("div",{className:"flex-shrink-0",children:t("a",{href:route("web.story.info",{slug:e==null?void 0:e.slug}),children:t("img",{src:e.imageUrl,alt:e.title,title:e.title,className:"img-thumbnail wizmage-pattern-bg-img wizmage-cls wizmage-shade-4 w-full h-auto md:w-[200px] md:h-[112px]"})})}),a("div",{className:"ml-0 mt-4 md:ml-4 md:mt-0",children:[t("h4",{className:"text-lg font-bold",children:t("a",{className:"font-semibold dark:text-indigo-100 hover:text-indigo-800 text-indigo-600 dark:hover:text-indigo-400",href:route("web.story.info",{slug:e==null?void 0:e.slug}),children:e.title})}),a("div",{children:[a("div",{className:"text-gray-600 mr-2 inline-flex items-center space-x-1 dark:text-zinc-100 text-sm",children:[t(j,{className:"w-3"}),t("span",{children:e==null?void 0:e.categoryNames})]}),a("div",{className:"text-gray-600 mr-2 inline-flex items-center space-x-1 dark:text-zinc-100 text-sm",children:[t(B,{className:"w-3"}),t("span",{children:e==null?void 0:e.tagNames})]}),t("h1",{className:"text-justify",children:t("a",{className:"text-gray-500 dark:text-gray-200",href:route("web.story.info",{slug:e.slug}),children:l("More Info...")})})]})]})]},r))})]})]})}export{q as default};
