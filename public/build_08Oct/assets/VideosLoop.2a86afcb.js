import{_ as l}from"./Translate.dc83ae5b.js";import{a as e,j as s,H as $,r as i,F as _,L as v,h as P,i as X,d as F}from"./app.b55b7b24.js";import"./react-tooltip.min.bbf5e269.js";import{M as C,c as Q}from"./index.ed62628f.js";/* empty css                          */import{M as B}from"./Modal.16eb4526.js";import{A as W}from"./AuthenticatedLayout.add8c7e1.js";import{a as I,b as J,c as K,d as Y,e as Z}from"./index.d226c3dd.js";import{L as ee}from"./Loader.ab3ad1ff.js";import{F as te,a as re}from"./index.ec42c783.js";import{S as T}from"./Spinner.f7051ff4.js";import{P as E}from"./PrimaryButton.cd9ccef6.js";import{Q as R}from"./react-toastify.esm.b0778105.js";import{j as se}from"./index.81cb27cb.js";import{S as ae}from"./SecondaryButton.fb585d7e.js";import"./react-cookie-consent.esm.c359df54.js";import{A as ie}from"./AdBar.75efc618.js";import le from"./ShareLink.f171a592.js";import{I as ne}from"./InputLabel.86be1c48.js";import"./TextInput.60bd8868.js";import oe from"./SubscribePopup.29d1ad92.js";import{I as de}from"./InputError.5d984c18.js";import{T as ce}from"./Textarea.f039ae49.js";import{P as me}from"./index.23fd716c.js";/* empty css             */const z=({video:t,relatedvideos:x,url:o,inModal:c})=>{var V,j,D;i.exports.useState();const[m,y]=i.exports.useState(!1),[g,f]=i.exports.useState(!1);i.exports.useState(!1);const[w,n]=i.exports.useState(t.isUserFavorite),[b,d]=i.exports.useState(null),[u,L]=i.exports.useState(!1),[k,r]=i.exports.useState(""),p=async()=>{L(!0),d(null);try{console.log("Download request started...");const a=await F.post(route("video.download"),{slug:t.slug});if(a.data.status===1){r("Download will start in sometime...please wait.");const N=a.data.link;console.log("Download URL:",N);const O=await(await fetch(N)).blob(),U=window.URL.createObjectURL(O),S=document.createElement("a");S.href=U,S.setAttribute("download",`${t.slug}.mp4`),document.body.appendChild(S),S.click(),document.body.removeChild(S),window.URL.revokeObjectURL(U)}else d(a.data.message)}catch(a){console.error("Download error:",a),d("An error occurred while downloading the video.")}finally{L(!1)}},h=(a,N)=>{a.preventDefault(),y(N),f(!0)},M=()=>{n(!0),F.post(route("video.addToFavorite",{id:t.id}))},G=()=>{n(!1),F.post(route("video.removeFromFavorite",{id:t.id}))};i.exports.useRef(null);const H={type:"video",autoplay:!0,sources:[{src:t.videoUrl,type:"video/mp4",size:720},{src:(V=t.videoUrl360p)!=null?V:t.videoUrl,type:"video/mp4",size:360}]};return s(_,{children:[e(B,{show:g,onClose:a=>f(!1),children:m&&e(le,{link:m,inModal:!0})}),s("div",{className:`justify-center w-full ${c?"p-3":"p-0"}`,children:[s("div",{className:"flex items-start",children:[e("div",{className:"mr-5 flex flex-col items-center flex-shrink-0",children:e(v,{href:route("channel",{user:t.streamer.username}),children:e("img",{src:t.streamer.profile_picture,className:"w-14 h-14 rounded-full"})})}),s("div",{children:[e("h3",{className:"text-lg md:text-2xl font-light dark:text-indigo-100 hover:text-indigo-800 text-indigo-600 dark:hover:text-indigo-400",children:t.title}),s("div",{className:"flex items-center flex-wrap md:space-x-2 mt-1",children:[s(v,{href:route("channel",{user:t.streamer.username}),className:"text-sm text-gray-600 mr-2  dark:text-white",children:["@",t.streamer.username]}),(j=t.selectedCategory)==null?void 0:j.map((a,N)=>s(v,{href:route("videos.browse",{videocategory:a.value,slug:`-${a.label}`}),className:"text-gray-600 mr-2  inline-flex items-center space-x-1 dark:text-zinc-100 text-sm",children:[e(I,{className:"w-3"}),e("span",{children:a.label})]})),e(J,{className:"w-3"}),e("span",{children:(D=t==null?void 0:t.tags)==null?void 0:D.map((a,N)=>s(v,{href:route("tag",{id:a.id}),className:"text-gray-600 mr-2  inline-flex items-center space-x-1 dark:text-zinc-100 text-sm",children:[" ",s("span",{children:[a.name," ",N!==t.tags.length-1&&", "]})]}))}),t.free_for_subs==="yes"&&t.price!==0&&s("div",{className:"mt-1 md:mt-0 inline-flex items-center text-sm bg-gray-100 rounded px-2 py-1 text-gray-500 dark:text-gray-600",children:[e(se,{className:"w-4 h-4 mr-1"}),l("Free For Subscribers")]}),t.canDownload&&e("div",{className:"mt-1 md:mt-0 inline-flex items-center text-sm bg-gray-100 rounded px-2 py-1 text-gray-500 dark:text-gray-600",children:e("button",{onClick:p,className:"relative flex items-center justify-center",disabled:u,children:u?e("span",{className:"loader"}):l("Download")})}),k&&e("p",{className:"text-gray-600 mt-2 text-sm",children:k}),b&&e("p",{className:"text-red-500",children:b}),e("div",{className:"mt-1 md:mt-0 inline-flex items-center text-sm bg-gray-100 rounded px-2 py-1 text-gray-500 dark:text-gray-600",children:s("span",{children:[" ",l("Duration ")," : ",t.duration.minute]})}),e("div",{className:"mt-1 md:mt-0 inline-flex items-center text-sm bg-gray-100 rounded px-2 py-1 text-gray-500 dark:text-gray-600",children:s("span",{children:[" ",l("Resolution ")," : ",t.duration.resolution]})}),s("div",{className:"mt-1 md:mt-0 inline-flex items-center text-sm bg-gray-100 rounded px-2 py-1 text-gray-500 dark:text-gray-600 cursor-pointer",onClick:a=>h(a,document.URL),children:[e(K,{className:"w-4 h-4 mr-1"}),l("Share ")]}),e("div",{className:"mt-1 md:mt-0 inline-flex items-center text-sm bg-gray-100 rounded px-2 py-1 text-gray-500 dark:text-gray-600",children:e(oe,{user:t.streamer,userIsSubscribed:t.isCurrentSubscriber})}),w?e("div",{className:"mt-1 md:mt-0 inline-flex items-center text-sm rounded px-2 py-1 cursor-pointer",onClick:a=>G(),children:e(Y,{style:{color:"red"},className:"w-4 h-4 mr-1"})}):e("div",{className:"mt-1 md:mt-0 inline-flex items-center text-sm rounded px-2 py-1 cursor-pointer",onClick:a=>M(),children:e(Z,{style:{color:"red"},className:"w-4 h-4 mr-1"})}),!t.canBePlayed&&s("div",{className:"mt-1 md:mt-0 inline-flex items-center text-sm bg-yellow-300 rounded px-2 py-1 text-gray-500 dark:text-gray-600 cursor-pointer",onClick:a=>P.Inertia.visit(route("video.unlock",{video:t.id})),children:[e(C,{className:"w-4 h-4 mr-1"}),l("Unlock with :tokens tokens",{tokens:t.price})]})]})]})]}),e("div",{className:"mt-5",children:t.canBePlayed?e(me,{source:H}):e("div",{className:"flex flex-col items-center  md:flex-row space-y-5 md:space-y-0 md:space-x-5 ",style:{"justify-content":"center"},children:s("div",{className:"relative",children:[e("img",{src:t.videoGIF?t.videoGIF:t.thumbnail,alt:"",className:"rounded-lg w-full"}),e("div",{className:"absolute top-0 left-0 text-center bg-gray-700 w-full h-full bg-opacity-25 rounded-lg ",children:s("div",{className:"relative top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col justify-center",children:[e("div",{className:"w-full",children:e("div",{className:"bg-white inline-flex bg-opacity-25 rounded-full p-2",children:e(te,{className:"w-12 h-12"})})}),e("div",{children:s(E,{className:"h-12 mt-5 inline-flex",onClick:a=>P.Inertia.visit(route("video.unlock",{video:t.id})),children:[e(C,{className:"mr-2 w-6 h-6 md:w-8 md:h-8"}),l("Unlock with :tokens tokens",{tokens:t.price})]})})]})})]})})}),e("div",{className:"mt-5 dark:text-indigo-100 hover:text-indigo-800 text-indigo-600 dark:hover:text-indigo-400",children:t.description?t.description:""}),e(ie,{})]})]})},ue=({relatedvideos:t})=>{const[x,o]=i.exports.useState(""),[c,m]=i.exports.useState(!1),[y,g]=i.exports.useState("");i.exports.useEffect(()=>{g(t.data),o(t.next_page_url)},[]);const f=async w=>{m(!0);try{const n=await F.get(w);g([...y,...n.data.data]),o(n.data.next_page_url),m(!1)}catch(n){console.log(n)}};return s("div",{children:[s("div",{className:"flex justify-start items-center mt-20 mb-8",children:[e(Q,{className:"text-pink-600 text-4xl mr-1"}),e("h2",{className:"text-indigo-900 text-center dark:text-zinc-200 text-4xl font-semibold",children:l("Related Videos")})]}),s("div",{className:"mt-5 mb-5",children:[t.total===0&&s("div",{className:"text-xl bg-white rounded-lg shadow text-gray-600 dark:bg-zinc-900 dark:text-white font-light p-3 flex items-center",children:[e(re,{className:"w-12 h-12 mr-2"}),l("No videos to show")]}),y.length>0&&e(q,{videos:y}),t.last_page>1&&e(_,{children:c?e("div",{className:"my-3",children:e(T,{})}):e(ae,{className:"mt-2",processing:!t.next_page_url,onClick:()=>f(x),children:l("Load More")})})]})]})},pe=({video:t})=>{const[x,o]=i.exports.useState(!1),{data:c,setData:m,post:y,processing:g,errors:f,reset:w}=X({description:"",video_id:t.id}),n=d=>{m(d.target.name,d.target.type==="checkbox"?d.target.checked:d.target.value)},b=async d=>{d.preventDefault(),o(!0);try{await F({method:"post",url:route("request.video"),data:c,headers:{"Content-Type":"multipart/form-data"}}).then(function(u){R.success(u.data.message)}).catch(function(u){R.error(u)}),o(!1)}catch(u){console.log(u)}};return e(_,{children:s("div",{className:"mt-5 mb5",children:[e("h3",{className:"text-indigo-900 text-center dark:text-zinc-200 text-4xl font-semibold",children:l("Request Video")}),s("form",{onSubmit:b,children:[s("div",{className:"mb-5",children:[e(ne,{for:"description",value:l("Description")}),e(ce,{name:"description",value:c.description,handleChange:n,required:!0,className:"mt-1 block w-full"}),e(de,{message:f.description,className:"mt-2"})]}),e("div",{className:"flex items-center justify-end mt-4",children:x?e("div",{className:"my-3",children:e(T,{})}):e(E,{className:"ml-4",processing:g,children:l("Request Video")})})]})]})})};function A({video:t,relatedvideos:x,url:o,inModal:c=!1}){return console.log("SingleVideo rendered with inModal:",c),c?e(z,{video:t,relatedvideos:x,url:o,inModal:!0}):s(W,{children:[e($,{title:t.title}),e(z,{video:t,relatedvideos:x,url:o,inModal:!1}),e(ue,{relatedvideos:x}),e(pe,{video:t})]})}const Ee=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));function q({videos:t,blocks:x,userLoginID:o,authUser:c}){const[m,y]=i.exports.useState(!1),[g,f]=i.exports.useState(!1),[w,n]=i.exports.useState({}),[b,d]=i.exports.useState(!1),u=r=>{n(p=>({...p,[r]:!0}))},L=r=>{n(p=>({...p,[r]:!1}))},k=(r,p,h,M)=>{r.preventDefault(),p===0&&M==="short-video"?window.location.href=route("short.video.single.page",{id:h}):p===0&&M==="video"?window.location.href=route("video.single.page",{id:h}):p>0&&(o?window.location.href=route("video.single.page",{id:h}):window.location.href=route("video.single.page",{id:h}))};return s(_,{children:[b&&e(ee,{}),e(B,{show:g,onClose:r=>f(!1),children:m&&e(A,{video:m,inModal:!0})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-5",children:t==null?void 0:t.map((r,p)=>(r.type,s("div",{className:"border dark:border-zinc-800 shadow-sm rounded-lg pb-2 bg-white dark:bg-zinc-900",children:[s("div",{className:"relative",children:[e("a",{href:route("video.single.page",{id:r.slug}),onClick:h=>k(h,route("video.single.page",{id:r.slug}),r.price,r.slug,r.id,r.type),"data-price":r.price,children:w[r.id]&&r.videoGIF?e("img",{src:r.videoGIF,className:"hovered-gif thumbnail-image rounded-tl-lg rounded-tr-lg mb-3",alt:"Any Fetish Porn and Extreme XXX Porn Site \u2013 FetishMegaStore",onMouseLeave:()=>L(r.id)}):e("img",{src:r.thumbnail,className:"thumbnail-image rounded-tl-lg rounded-tr-lg mb-3",alt:"Watch Free Fetish and BDSM Porn Videos \u2013 FetishMegaStore",onMouseEnter:()=>u(r.id)})}),e("div",{className:"absolute top-5 left-0 bg-indigo-800 text-white font-bold text-sm uppercase rounded-tr rounded-br px-2 py-1",children:r.price<1?l("Free"):s("div",{className:"flex items-center",children:[e(C,{className:"h-4 w-4 mr-1"}),r.price]})})]}),s("div",{className:"inline-flex items-center",children:[e("div",{className:"w-10 flex-shrink-0 mr-2",children:e(v,{href:r.streamer?route("channel",{user:r.streamer.username}):"#",children:r.streamer&&r.streamer.profile_picture?e("img",{src:r.streamer.profile_picture,className:"w-10 h-10 rounded-full",alt:r.streamer.username||"Streamer profile"}):e("div",{className:"w-10 h-10 rounded-full bg-gray-300"})})}),s("div",{children:[e("div",{className:"h-5 overflow-hidden",children:e("a",{className:"font-semibold dark:text-indigo-100 hover:text-indigo-800 text-indigo-600 dark:hover:text-indigo-400",href:route("video.single.page",{id:r.slug}),onClick:h=>k(h,r.price,r.slug,r.type),children:r.title})}),e("div",{className:"mt-1.5 flex items-center text-xs text-gray-500 dark:text-gray-200"}),e("div",{className:"mt-1.5 mb-1 flex items-center text-xs text-gray-500 dark:text-gray-200",children:s("div",{className:"inline-flex items-center ml-2",children:[e(I,{className:"mr-0.5"}),r.categoryNames]})})]})]})]},`vid-${r.id}`)))})]})}const Ae=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"}));export{A as S,q as V,Ee as a,Ae as b};
