import{I as c}from"./InputLabel.86be1c48.js";import{I as g}from"./InputError.5d984c18.js";import{T as b}from"./TextInput.60bd8868.js";import{T as R}from"./Textarea.f039ae49.js";import{P as H}from"./PrimaryButton.cd9ccef6.js";import{_ as n}from"./Translate.dc83ae5b.js";import{Q as v}from"./react-toastify.esm.b0778105.js";import{A as ne}from"./AuthenticatedLayout.add8c7e1.js";import{r as N,i as ie,j as r,a as e,H as ce,h as me,F as q}from"./app.b55b7b24.js";import{c as oe}from"./index.ed62628f.js";import de from"./AccountNavi.f5fdb992.js";import{S as T}from"./sweetalert2.esm.all.08ba7c87.js";import{C as D}from"./Checkbox.922d0b21.js";import{S}from"./Front.204303ed.js";import"./index.aece37d8.js";import"./iconBase.c9d6e0f8.js";import"./index.d226c3dd.js";import"./react-cookie-consent.esm.c359df54.js";import"./transition.b14c266a.js";import"./Modal.16eb4526.js";import"./index.e7e076b2.js";import"./index.esm.6c6b8a7f.js";/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ge=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,p,u)=>u?u.toUpperCase():p.toLowerCase()),K=a=>{const t=ge(a);return t.charAt(0).toUpperCase()+t.slice(1)},L=(...a)=>a.filter((t,p,u)=>Boolean(t)&&t.trim()!==""&&u.indexOf(t)===p).join(" ").trim(),pe=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=N.exports.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:p=2,absoluteStrokeWidth:u,className:k="",children:y,iconNode:C,...o},s)=>N.exports.createElement("svg",{ref:s,...ue,width:t,height:t,stroke:a,strokeWidth:u?Number(p)*24/Number(t):p,className:L("lucide",k),...!y&&!pe(o)&&{"aria-hidden":"true"},...o},[...C.map(([_,x])=>N.exports.createElement(_,x)),...Array.isArray(y)?y:[y]]));/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(a,t)=>{const p=N.exports.forwardRef(({className:u,...k},y)=>N.exports.createElement(fe,{ref:y,iconNode:t,className:L(`lucide-${he(K(a))}`,`lucide-${a}`,u),...k}));return p.displayName=K(a),p};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],be=_e("circle-x",ye);function Re({video:a,ogValue:t,categories:p,tags:u,models:k,systemVideo:y,isEdit:C,supportedLocales:o}){var $,F,I,U,G,j,z,B,E,M;console.log("gallery",a);const{data:s,setData:_,post:x,processing:W,errors:m,progress:A}=ie({title_en:(($=t==null?void 0:t.title)==null?void 0:$.en)||"",title_lang:(t==null?void 0:t.title_lang)||"",title_de:((F=t==null?void 0:t.title)==null?void 0:F[t==null?void 0:t.title_lang])||"",description_en:((I=t==null?void 0:t.description)==null?void 0:I.en)||"",description_lang:(t==null?void 0:t.description_lang)||"",description_de:((U=t==null?void 0:t.description)==null?void 0:U[t==null?void 0:t.description_lang])||"",tag:a==null?void 0:a.tag,category_id:a==null?void 0:a.category_id,model_id:a==null?void 0:a.model_id,video_id:a==null?void 0:a.video_id,price:a==null?void 0:a.price,thumbnail:"",images:[],temp_gallery:a==null?void 0:a.galleryUrl,is_terms:"",is_agreement:"",is_rules:"",seo:{h2:(G=a==null?void 0:a.seoDeatils)==null?void 0:G.h2,keyword:(j=a==null?void 0:a.seoDeatils)==null?void 0:j.keyword,meta_keyword:(z=a==null?void 0:a.seoDeatils)==null?void 0:z.meta_keyword,desc:(B=a==null?void 0:a.seoDeatils)==null?void 0:B.desc}}),[P,Y]=N.exports.useState((a==null?void 0:a.galleryUrl)||[]),Z=(l,i)=>{i.preventDefault(),i.stopPropagation();const d=P.filter((f,w)=>w!==l);Y(d),_("temp_gallery",d)},Q=l=>{const i=l.target.value,d=a.title||{};_(f=>({...f,title_lang:i,title_de:d[i]||""}))},X=l=>{const i=l.target.value,d=a.description||{};_(f=>({...f,description_lang:i,description_de:d[i]||""}))},J=l=>{console.log("selected tag ${value}"),s.tag=l},V=l=>{console.log(`selected video ${l}`),s.video_id=l},ee=l=>{console.log("selected category ${value}"),s.category_id=l},ae=l=>{console.log("selected model ${value}"),s.model_id=l},h=l=>{const{name:i,type:d,checked:f,value:w}=l.target;i.startsWith("seo.")?_("seo",{...s.seo,[i.split(".")[1]]:d==="checkbox"?f:w}):_(i,d==="checkbox"?f:w)};N.exports.useEffect(()=>{Object.keys(m).length&&Object.keys(m).map(l=>{v.error(m.key)})},[m]);const le=l=>{_("images",Array.from(l.target.files))},te=l=>{if(l.preventDefault(),!s.is_terms){v.error(n("Please agree to terms and conditions"));return}if(!s.is_agreement){v.error(n("Please agree to the agreement"));return}if(!s.is_rules){v.error(n("Please agree to the rules"));return}a.id===null?T.fire({title:"Are you sure?",text:"Do you want to save this gallery?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, save it!",cancelButtonText:"No, cancel"}).then(i=>{i.isConfirmed?(x(route("gallery.save"),{forceFormData:!0}),T.fire("Saved!","Your gallery has been saved.","success")):i.dismiss===T.DismissReason.cancel&&T.fire("Cancelled","Your gallery has not been saved","error")}):re()},re=()=>{x(route("gallery.update",{video:a.id}))};console.log(s,"data"),console.log(a,"video");const se=y.map(l=>{var f,w,O;const i=(f=l==null?void 0:l.label)==null?void 0:f.en,d=(O=(w=l==null?void 0:l.label)==null?void 0:w.ogValue)==null?void 0:O.title_lang;return{value:l==null?void 0:l.value,label:i||d||"Untitled Video"}});return r(ne,{children:[e(ce,{title:n("Upload Video")}),r("div",{className:"lg:flex lg:space-x-10",children:[e(de,{active:"upload-videos"}),r("div",{className:"p-4 sm:p-8 bg-white w-full dark:bg-zinc-900 shadow sm:rounded-lg",children:[r("header",{className:"mb-5",children:[r("h2",{className:"text-lg inline-flex items-center md:text-xl font-medium text-gray-600 dark:text-gray-100",children:[e(oe,{className:"mr-2"}),n("Upload Gallery")]}),e("p",{className:"mt-1 mb-2 text-sm text-gray-600 dark:text-gray-400",children:n("Upload a new Gallery")}),e(H,{onClick:l=>me.Inertia.visit(route("gallery.list")),children:n("<< Back to Gallery")})]}),e("hr",{className:"my-5"}),r("form",{onSubmit:te,encType:"multipart/form-data",children:[r("div",{className:"mb-5",children:[e(c,{for:"title",value:n("Title")}),e(b,{name:"title_en",value:s.title_en,handleChange:h,required:!0,className:"mt-1 block w-full md:w-1/2"}),e(g,{message:m.title_en,className:"mt-2"})]}),r("div",{className:"mb-5",children:[e(c,{htmlFor:"title_lang",value:n("Select Additional Language for Title")}),r("select",{className:"mt-1 block w-full md:w-1/2",name:"title_lang",value:s.title_lang,onChange:Q,children:[e("option",{value:"",children:"--Select--"}),o&&o.map(l=>e("option",{value:l.lang_value,children:l.lang_name},`title-locale-${l.lang_value}`))]})]}),s.title_lang&&r("div",{className:"mb-5",children:[e(c,{htmlFor:"title_de",value:`Title (${(E=o==null?void 0:o.find(l=>l.lang_value===s.title_lang))==null?void 0:E.lang_name})`}),e(b,{className:"mt-1 block w-full md:w-1/2",name:"title_de",value:s.title_de,handleChange:h})]}),r("div",{className:"mb-5",children:[e(c,{for:"category",value:n("Category")}),e(S,{mode:"multiple",allowClear:!0,showSearch:!0,style:{width:"50%"},placeholder:"Please select",defaultValue:a.category_id==""?[]:a.selectedCategory,onChange:ee,options:p}),e(g,{message:m.category_id,className:"mt-2"})]}),r("div",{className:"mb-5",children:[e(c,{for:"model",value:n("Model")}),e(S,{mode:"multiple",allowClear:!0,showSearch:!0,style:{width:"50%"},placeholder:"Please select",defaultValue:a.model_id===null?[]:a.selectedModel,onChange:ae,options:k}),e(g,{message:m.model_id,className:"mt-2"})]}),r("div",{className:"mb-5",children:[e(c,{for:"tag",value:n("Tags")}),e(S,{mode:"multiple",allowClear:!0,showSearch:!0,style:{width:"50%"},placeholder:"Please select",defaultValue:a.tags===null?[]:a.selectedTags,onChange:J,options:u}),e(g,{message:m.tag,className:"mt-2"})]}),r("div",{className:"mb-5",children:[e(c,{for:"model",value:n("Full Video Link")}),e(S,{allowClear:!0,showSearch:!0,style:{width:"50%"},placeholder:"Please select",defaultValue:a.video_id===null?[]:a.fullVideoLink,onChange:V,options:se}),e(g,{message:m.video_id,className:"mt-2"})]}),r("div",{className:"mb-5",children:[e(c,{for:"price",value:n("Price")}),r("div",{className:"flex items-center",children:[e(b,{type:"number",name:"price",value:s.price,handleChange:h,required:!0,className:"mt-1  w-32"}),r("div",{className:"ml-1 dark:text-white text-gray-700",children:[n("tokens")," ",n("0 = Free")]})]}),e(g,{message:m.price,className:"mt-2"})]}),r("div",{className:"mb-5",children:[e(c,{for:"thumbnail",value:n("Thumbnail - helps to attract sales (will be resized to 640x320px)")}),C&&e(q,{children:r("span",{className:"text-red-900",children:[" ",n("Upload only if you want to make a change")]})}),e(b,{className:"p-1 block w-full md:w-1/2 text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-300 focus:outline-none dark:bg-zinc-800 dark:border-gray-600 dark:placeholder-zinc-900",type:"file",name:"thumbnail",handleChange:l=>_("thumbnail",l.target.files[0])}),e(g,{message:m.thumbnail,className:"mt-2"})]}),r("div",{className:"mb-5",children:[e(c,{for:"images",value:n("Images (Select multiple)")}),C&&e(q,{children:r("span",{className:"text-red-900",children:[" ",n("This will add new images")]})}),e("input",{type:"file",name:"images",multiple:!0,onChange:le,className:"p-1 block w-full md:w-1/2 text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-300 focus:outline-none dark:bg-zinc-800 dark:border-gray-600 dark:placeholder-zinc-900"}),e(g,{message:m.images,className:"mt-2"})]}),r("div",{className:"mb-5",children:[e(c,{htmlFor:"description_en",value:n("Description (English)")}),e(R,{className:"mt-1 block w-full md:w-1/2",name:"description_en",value:s.description_en,handleChange:h}),e(g,{message:m.description_en})]}),r("div",{className:"mb-5",children:[e(c,{htmlFor:"description_lang",value:n("Select Additional Language for Description")}),r("select",{className:"mt-1 block w-full md:w-1/2",name:"description_lang",value:s.description_lang,onChange:X,children:[e("option",{value:"",children:"--Select--"}),o&&o.map(l=>e("option",{value:l.lang_value,children:l.lang_name},`desc-locale-${l.lang_value}`))]})]}),s.description_lang&&r("div",{className:"mb-5",children:[e(c,{htmlFor:"description_de",value:`Description (${(M=o==null?void 0:o.find(l=>l.lang_value===s.description_lang))==null?void 0:M.lang_name})`}),e(R,{className:"mt-1 block w-full md:w-1/2",name:"description_de",value:s.description_de,handleChange:h})]}),r("div",{className:"p-4",children:[e("h2",{className:"text-xl font-semibold mb-4",children:"Current Gallery"}),e("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:P.map((l,i)=>r("div",{className:"relative group",children:[e("img",{src:l.link,alt:`Gallery ${i}`,className:"w-full h-32 object-cover rounded-lg shadow-md"}),e("button",{className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-100",onClick:d=>Z(i,d),children:e(be,{size:20})})]},i))})]}),e("hr",{className:"mt-3"}),e("label",{children:"SEO"}),r("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r("div",{children:[e(c,{for:"seo_h2",value:"H2"}),e(b,{name:"seo.h2",value:s.seo.h2,handleChange:h,className:"mt-1 block w-full"})]}),r("div",{children:[e(c,{for:"seo_keyword",value:"Keyword"}),e(b,{name:"seo.keyword",value:s.seo.keyword,handleChange:h,className:"mt-1 block w-full"})]}),r("div",{children:[e(c,{for:"seo_meta_keyword",value:"Meta Keyword"}),e(b,{name:"seo.meta_keyword",value:s.seo.meta_keyword,handleChange:h,className:"mt-1 block w-full"})]}),r("div",{children:[e(c,{for:"seo_desc",value:"Meta Description"}),e(b,{name:"seo.desc",value:s.seo.desc,handleChange:h,className:"mt-1 block w-full"})]})]}),r("div",{className:"mt-4",children:[e(D,{name:"is_terms",checked:s.is_terms,handleChange:h}),r("span",{className:"mx-2",children:[n(" Agree to "),e("a",{href:"policy/Terms.pdf",className:"underline",target:"_blank",children:n("Terms and Conditions")})]}),e(g,{message:m.is_terms,className:"mt-2"})]}),r("div",{className:"mt-4",children:[e(D,{name:"is_agreement",checked:s.is_agreement,handleChange:h}),r("span",{className:"mx-2",children:[n(" Agree to "),e("a",{href:"policy/Streamer-Agreement.pdf",className:"underline",target:"_blank",children:n("Agreement")})]}),e(g,{message:m.is_agreement,className:"mt-2"})]}),r("div",{className:"mt-4",children:[e(D,{name:"is_rules",checked:s.is_rules,handleChange:h}),r("span",{className:"mx-2",children:[n(" Agree to "),e("a",{href:"policy/Content-Rules.pdf",className:"underline",target:"_blank",children:n("Rules")})]}),e(g,{message:m.is_rules,className:"mt-2"})]}),e(H,{processing:W,children:n("Save Gallery")}),A&&r("progress",{className:"mt-5",value:A.percentage,max:"100",children:[A.percentage,"%"]})]})]})]})]})}export{Re as default};
