import{u as j,a as e,j as a,H as M,r as i,d as P,F as y,L as h,h as U}from"./app.b55b7b24.js";import{A}from"./AuthenticatedLayout.add8c7e1.js";import I from"./ShortVideosLoop.403c0290.js";import{_ as s}from"./Translate.dc83ae5b.js";import{a as H,b as R,c as T,g as G}from"./index.d226c3dd.js";import{a as O}from"./index.ec42c783.js";import{S as $}from"./Spinner.f7051ff4.js";import{P as J}from"./PrimaryButton.cd9ccef6.js";import"./react-toastify.esm.b0778105.js";import{c as W}from"./index.ed62628f.js";import{C as Y}from"./index.esm.33c290c5.js";import{S as q}from"./SecondaryButton.fb585d7e.js";import"./react-cookie-consent.esm.c359df54.js";import{M as K}from"./Modal.16eb4526.js";import Q from"./ShareLink.f171a592.js";import"./TextInput.60bd8868.js";import"./index.fb6a6077.js";import"./Textarea.f039ae49.js";import{P as X}from"./index.23fd716c.js";/* empty css             */import{A as Z}from"./AdBar.75efc618.js";import"./Front.204303ed.js";import"./iconBase.c9d6e0f8.js";import"./index.aece37d8.js";import"./index.e7e076b2.js";import"./index.esm.6c6b8a7f.js";import"./react-tooltip.min.bbf5e269.js";/* empty css                          */import"./SingleVideo.4d2e3f20.js";import"./index.81cb27cb.js";import"./transition.b14c266a.js";import"./Loader.ab3ad1ff.js";import"./index.517f43d0.js";const V=({video:t,relatedvideos:d,url:p,slug:x,inModal:n,seo:r})=>{var N,k,S,_;i.exports.useState();const[c,u]=i.exports.useState(!1),[f,o]=i.exports.useState(!1);i.exports.useState(!1),i.exports.useState(null),i.exports.useState(!1);const[te,v]=i.exports.useState(!1);i.exports.useState(null),i.exports.useState(null),i.exports.useState(!0),i.exports.useState(!1),i.exports.useState(5);const z=t.video,{props:g}=j(),[D,b]=i.exports.useState(!1),[L,F]=i.exports.useState(""),w=((N=g.auth)==null?void 0:N.user)!==null;t.canBePlayed,i.exports.useEffect(()=>{E(),g.popupMessage&&(F(g.popupMessage),b(!0))},[g.popupMessage]),M,t.title,r!=null&&r.meta_keyword,r!=null&&r.desc,r!=null&&r.meta_robot,r!=null&&r.og_title||t.title,r!=null&&r.og_desc,r!=null&&r.og_image_url,r!=null&&r.cust_url,r!=null&&r.json_id&&JSON.stringify({"@context":"https://schema.org","@type":"VideoObject",identifier:r==null?void 0:r.json_id,name:(r==null?void 0:r.og_title)||t.title,description:(r==null?void 0:r.desc)||"",thumbnailUrl:(r==null?void 0:r.og_image_url)||"",uploadDate:t.uploadDate||"",contentUrl:window.location.href});const C={type:"video",autoplay:!0,sources:[{src:z,type:"video/mp4",size:720}]},B=(l,m)=>{l.preventDefault(),u(m),o(!0)};i.exports.useRef(null),t.video;const E=()=>{P.post(route("video.increaseShortViews",{shortVideo:t.id})).then(()=>{console.log(`Views increased for ${t.type} ID:`,t.id),v(!0)}).catch(l=>{console.error("Error increasing views:",l)})};return a(y,{children:[e(K,{show:f,onClose:l=>o(!1),children:c&&e(Q,{link:c,inModal:!0})}),w&&D&&e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a("div",{className:"bg-white px-8 pt-12 pb-12 rounded-lg shadow-lg max-w-xl w-full text-center min-h-[400px] min-w-[800px] flex flex-col justify-center relative",children:[e("button",{onClick:()=>{b(!1),window.location.href="/"},className:"absolute top-4 right-4 text-gray-600 hover:text-black text-2xl font-bold","aria-label":"Close",children:"\xD7"}),e("h2",{className:"text-2xl font-bold mb-6",children:"Notice"}),e("p",{className:"mb-8 text-lg",children:L}),e(h,{href:route("token.packages"),className:"inline-block bg-blue-600 text-white px-6 py-3 rounded hover:bg-blue-700 font-semibold text-lg mx-auto",children:"Purchase Token Packs"})]})}),a("div",{className:`justify-center w-full ${n?"p-3":"p-0"}`,children:[e("div",{className:"flex items-start",children:a("div",{children:[e("h3",{className:"text-lg md:text-2xl font-light dark:text-indigo-100 hover:text-indigo-800 text-indigo-600 dark:hover:text-indigo-400",children:t.title}),a("div",{className:"flex items-center flex-wrap md:space-x-2 mt-1",children:[a("div",{className:"text-gray-600 mr-2  inline-flex items-center space-x-1 dark:text-zinc-100 text-sm",children:[e(H,{className:"w-3"}),(k=t==null?void 0:t.categoryDetails)==null?void 0:k.map((l,m)=>e(h,{href:route("category",{id:l.slug}),className:"text-gray-600 mr-2  inline-flex items-center space-x-1 dark:text-zinc-100 text-sm",children:a("span",{children:[l.category," ",m!==t.categoryDetails.length-1&&", "]})}))]}),a("div",{className:"flex flex-wrap text-gray-600 mr-2  inline-flex items-center space-x-1 dark:text-zinc-100 text-sm contents",children:[e(R,{className:"w-3"}),(S=t==null?void 0:t.tagsDetails)==null?void 0:S.map((l,m)=>a(h,{href:route("tag",{id:l.slug}),className:"text-gray-600 mr-2  inline-flex items-center space-x-1 dark:text-zinc-100 text-sm",children:[" ",a("span",{children:[l.name," ",m!==t.tagsDetails.length-1&&", "]})]}))]}),a("div",{className:"text-gray-600 mr-2  inline-flex items-center space-x-1 dark:text-zinc-100 text-sm",children:[e(Y,{className:"w-3"}),(_=t==null?void 0:t.modelDetails)==null?void 0:_.map((l,m)=>e(h,{href:route("model",{id:l.slug}),className:"text-gray-600 mr-2  inline-flex items-center space-x-1 dark:text-zinc-100 text-sm",children:a("span",{children:[l.name," ",m!==t.categoryDetails.length-1&&", "]})}))]}),a("div",{className:"mt-1 md:mt-0 inline-flex items-center text-sm bg-gray-100 rounded px-2 py-1 text-gray-500 dark:text-gray-600 cursor-pointer",onClick:l=>B(l,document.URL),children:[e(T,{className:"w-4 h-4 mr-1"}),s("Share ")]}),a("div",{className:"mt-1 md:mt-0 inline-flex items-center text-sm rounded px-2 py-1 cursor-pointer",children:[e(G,{style:{color:"red"},className:"w-4 h-4 mr-1"}),e("span",{children:t==null?void 0:t.views})]}),x&&e("div",{className:"mt-1 md:mt-0 inline-flex items-center text-sm bg-yellow-300 rounded px-2 py-1 text-gray-500 dark:text-gray-600 cursor-pointer",children:e(h,{href:route("video.single.page",{id:x}),className:"text-gray-600 mr-2  inline-flex items-center space-x-1 dark:text-zinc-100 text-sm",children:e("span",{children:s("Get Full Video")})})})]})]})}),e("div",{className:"mt-5",style:{maxWidth:"720px",margin:"auto"},children:w?t.canBePlayed?e(y,{children:e(X,{source:C,options:{controls:["play-large","play","progress","current-time"]}})}):a("div",{className:"relative rounded-lg overflow-hidden w-full",children:[e("img",{src:t.video||"/images/access-denied.gif",alt:"Video preview",className:"w-full rounded-lg",style:{maxHeight:"405px",objectFit:"cover"},onError:l=>{l.target.onerror=null,l.target.src="/default-thumbnail.jpg"}}),a("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-60 text-white p-4 text-center",style:{top:0,left:0,right:0,bottom:0},children:[e("h2",{className:"text-xl font-bold mb-2",children:s("Video Locked")}),t.price>0?a(J,{onClick:()=>U.Inertia.visit(route("video.unlock",{video:t.id})),className:"mb-3",children:[s("Unlock with")," ",t.price," ",s("Tokens")]}):e("p",{className:"mb-3",children:s("You've reached your free watch limit today.")})]})]}):a("div",{className:"relative rounded-lg overflow-hidden w-full",children:[e("img",{src:t.video||"/images/access-denied.gif",alt:"Login to watch preview",className:"w-full rounded-lg",style:{maxHeight:"405px",objectFit:"cover"},onError:l=>{l.target.onerror=null,l.target.src=t.thumbnail||"/default-thumbnail.jpg"}}),a("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-60 text-white p-4 text-center",style:{top:0,left:0,right:0,bottom:0},children:[e("h2",{className:"text-xl font-bold mb-2",children:s("Please log in to watch the full video")}),e("div",{className:"flex space-x-4 justify-center",children:e(h,{href:route("login"),className:"bg-indigo-600 hover:bg-indigo-700 px-4 py-2 rounded font-semibold",children:s("Login")})})]})]})}),e("div",{className:"mt-5 dark:text-indigo-100 hover:text-indigo-800 text-indigo-600 dark:hover:text-indigo-400",children:t.description?t.description:""})]}),e("div",{className:"mt-3",children:e(Z,{})})]})},ee=({relatedvideos:t})=>{const[d,p]=i.exports.useState(""),[x,n]=i.exports.useState(!1),[r,c]=i.exports.useState("");i.exports.useEffect(()=>{c(t.data),p(t.next_page_url)},[]);const u=async f=>{n(!0);try{const o=await P.get(f);c([...r,...o.data.data]),p(o.data.next_page_url),n(!1)}catch(o){console.log(o)}};return a("div",{children:[a("div",{className:"flex justify-start items-center mt-20 mb-8",children:[e(W,{className:"text-pink-600 text-4xl mr-1"}),e("h2",{className:"text-indigo-900 text-center dark:text-zinc-200 text-4xl font-semibold",children:s("Related Videos")})]}),a("div",{className:"mt-5 mb-5",children:[t.total===0&&a("div",{className:"text-xl bg-white rounded-lg shadow text-gray-600 dark:bg-zinc-900 dark:text-white font-light p-3 flex items-center",children:[e(O,{className:"w-12 h-12 mr-2"}),s("No videos to show")]}),r.length>0&&e(I,{videos:r}),t.last_page>1&&e(y,{children:x?e("div",{className:"my-3",children:e($,{})}):e(q,{className:"mt-2",processing:!t.next_page_url,onClick:()=>u(d),children:s("Load More")})})]})]})};function Be({video:t,relatedvideos:d,url:p,slug:x,popupMessage:n=null,inModal:r=!1}){var u;const{props:c}=j();return(u=c.auth)==null||u.user,t.seoDetails,r?e(V,{video:t,relatedvideos:d,url:p,inModal:!0,popupMessage:n}):a(A,{children:[e(M,{title:t.title}),e(V,{video:t,relatedvideos:d,url:p,slug:x,inModal:!1,popupMessage:n}),e(ee,{relatedvideos:d})]})}export{Be as default};
