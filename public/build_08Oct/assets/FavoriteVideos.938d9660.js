import{_ as i}from"./Translate.dc83ae5b.js";import{P as _}from"./PrimaryButton.cd9ccef6.js";import{S as v}from"./SecondaryButton.fb585d7e.js";import{r as m,u as k,j as t,a as r,H as P,L as u,F as b,h as p}from"./app.b55b7b24.js";import{A as S}from"./AuthenticatedLayout.add8c7e1.js";import{d as C}from"./index.fa3a0e35.js";/* empty css                          */import{a as T,d as $,e as A}from"./index.d226c3dd.js";import{T as B}from"./TextInput.60bd8868.js";import V from"./AccountNavi.f5fdb992.js";import{Q as c}from"./react-toastify.esm.b0778105.js";import"./Front.204303ed.js";import"./iconBase.c9d6e0f8.js";import"./index.aece37d8.js";import"./index.ed62628f.js";import"./react-cookie-consent.esm.c359df54.js";import"./transition.b14c266a.js";import"./Modal.16eb4526.js";import"./index.e7e076b2.js";import"./index.esm.6c6b8a7f.js";function re({videos:a}){m.exports.useState(!1),m.exports.useState(0);const[n,N]=m.exports.useState("");k().props;const h=e=>{e.preventDefault(),console.log(`Would visit: ${route("myFavorites")}?search_term=${n}`),p.Inertia.visit(`${route("myFavorites")}?search_term=${n}`,{method:"GET",preserveState:!0,only:a})},[y,o]=m.exports.useState(a.data.reduce((e,s)=>(e[s.id]=s.isUserFavorite,e),{})),w=async e=>{try{o(s=>({...s,[e]:!0})),await axios.post(route("video.addToFavorite",{id:e})),c.success("Added to favorites!")}catch{o(l=>({...l,[e]:!1})),c.error("Failed to add to favorites. Please try again.")}},F=async e=>{try{o(s=>({...s,[e]:!1})),await axios.post(route("video.removeFromFavorite",{id:e})),c.success("Removed from favorites!")}catch{o(l=>({...l,[e]:!0})),c.error("Failed to remove from favorites. Please try again.")}};return t(S,{children:[r(P,{title:i("Favorites Videos")}),t("div",{className:"lg:flex lg:space-x-10",children:[r(V,{active:"fav-videos"}),r("div",{className:"ml-0 w-full",children:t("div",{className:"p-4 sm:p-8 bg-white dark:bg-zinc-900 shadow sm:rounded-lg",children:[t("header",{children:[r("h2",{className:"text-lg md:text-xl font-medium text-gray-600 dark:text-gray-100",children:i("My Favorites Videos")}),r("form",{onSubmit:h,children:t("div",{className:"flex items-center",children:[r(B,{name:"search_term",placeholder:i("Search Video"),value:n,handleChange:e=>N(e.target.value)}),r(_,{className:"ml-2 py-3",onClick:e=>h(e),children:i("GO")})]})})]}),r("hr",{className:"my-5"}),a.total===0&&r("div",{className:"text-gray-600 dark:text-white",children:i("No videos to show.")}),a.total!==0&&r("div",{className:"",children:a.data.map(e=>{var s,l,x,f,g;return t("div",{className:"w-full mt-10",children:[t("div",{className:"flex items-start",children:[r("div",{className:"mr-5 flex flex-col items-center flex-shrink-0",children:r(u,{href:route("channel",{user:(s=e.streamer)==null?void 0:s.username}),children:r("img",{src:(l=e.streamer)==null?void 0:l.profile_picture,className:"w-14 h-14 rounded-full"})})}),t("div",{children:[r("h3",{className:"text-lg md:text-2xl font-light text-gray-600 dark:text-white",children:e.title}),t("div",{className:"flex items-center flex-wrap md:space-x-2 mt-1",children:[t(u,{href:route("channel",{user:(x=e.streamer)==null?void 0:x.username}),className:"text-sm text-gray-600 mr-2  dark:text-white",children:["@",(f=e.streamer)==null?void 0:f.username]}),(g=e.selectedCategory)==null?void 0:g.map((d,H)=>t(u,{href:route("videos.browse",{videocategory:d.value,slug:`-${d.label}`}),className:"text-gray-600 mr-2  inline-flex items-center space-x-1 dark:text-zinc-100 text-sm",children:[r(T,{className:"w-3"}),r("span",{children:d.label})]})),t("span",{className:"text-gray-600 inline-flex items-center space-x-1 dark:text-zinc-100 text-sm mr-2   ",children:[r(C,{className:"w-5 h-5 mr-1"}),e.views===1?i("1 view"):i(":viewsCount views",{viewsCount:e.views})]}),y[e.id]?r("div",{className:"mt-1 md:mt-0 inline-flex items-center text-sm rounded px-2 py-1 cursor-pointer",onClick:()=>F(e.id),children:r($,{style:{color:"red"},className:"w-4 h-4 mr-1"})}):r("div",{className:"mt-1 md:mt-0 inline-flex items-center text-sm rounded px-2 py-1 cursor-pointer",onClick:()=>w(e.id),children:r(A,{style:{color:"red"},className:"w-4 h-4 mr-1"})})]})]})]}),r("video",{className:"w-full rounded-lg aspect-video",controls:!0,disablePictureInPicture:!0,controlsList:"nodownload",poster:e.thumbnail,children:r("source",{src:`${e.videoUrl}`,type:"video/mp4"})})]},`video-${e.id}`)})}),a.last_page>1&&t(b,{children:[r("hr",{className:"my-5"}),r("div",{className:"flex text-gray-600 my-3 text-sm",children:i("Page: :pageNumber of :lastPage",{pageNumber:a.current_page,lastPage:a.last_page})}),r(v,{processing:!a.prev_page_url,className:"mr-3",onClick:e=>p.Inertia.visit(a.prev_page_url),children:i("Previous")}),r(v,{processing:!a.next_page_url,onClick:e=>p.Inertia.visit(a.next_page_url),children:i("Next")})]})]})})]})]})}export{re as default};
