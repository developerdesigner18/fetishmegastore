import{i as O,j as c,a as e,H as F}from"./app.b55b7b24.js";import{I as m}from"./InputLabel.86be1c48.js";import{I as p}from"./InputError.5d984c18.js";import{T as u}from"./TextInput.60bd8868.js";import{T as k}from"./Textarea.f039ae49.js";import{P as G}from"./PrimaryButton.cd9ccef6.js";import{A as K}from"./AuthenticatedLayout.add8c7e1.js";import L from"./AccountNavi.f5fdb992.js";import{S as C}from"./Front.204303ed.js";import"./Translate.dc83ae5b.js";import"./index.ed62628f.js";import"./index.aece37d8.js";import"./iconBase.c9d6e0f8.js";import"./index.d226c3dd.js";import"./react-cookie-consent.esm.c359df54.js";import"./transition.b14c266a.js";import"./Modal.16eb4526.js";import"./react-toastify.esm.b0778105.js";import"./index.e7e076b2.js";import"./index.esm.6c6b8a7f.js";function se({categories:x,tags:T,blogs:t}){var N,_,y,w,g;const h=a=>Array.isArray(a)?a.map(Number):typeof a=="string"&&a.length?a.split(",").map(Number):[],D=h(t==null?void 0:t.category_id),E=h(t==null?void 0:t.tag_id),S=typeof(t==null?void 0:t.seo)=="string"?JSON.parse(t.seo):(N=t==null?void 0:t.seo)!=null?N:{h2:"",keyword:"",meta_keyword:"",desc:"",og_title:"",og_desc:"",cust_url:"",de:{h2:"",keyword:"",meta_keyword:"",desc:""}},{data:i,setData:l,put:A,processing:I,errors:d}=O({title_en:((_=t==null?void 0:t.title)==null?void 0:_.en)||"",title_de:((y=t==null?void 0:t.title)==null?void 0:y.de)||"",description_en:((w=t==null?void 0:t.description)==null?void 0:w.en)||"",description_de:((g=t==null?void 0:t.description)==null?void 0:g.de)||"",category_id:D,tag_id:E,image:[],seo:S}),f=(a,r)=>{l(r,a.map(Number))},B=a=>{l("image",Array.from(a.target.files))},n=a=>{const{name:r,value:s}=a.target;if(r.startsWith("seo.")){const o=r.replace("seo.","");if(o.includes(".")){const[v,H]=o.split(".");l("seo",{...i.seo,[v]:{...i.seo[v]||{},[H]:s}})}else l("seo",{...i.seo,[o]:s})}else l(r,s)},j=(a,r)=>r.split(".").reduce((s,o)=>s?s[o]:"",a);return c(K,{children:[e(F,{title:"Edit Blog"}),c("div",{className:"lg:flex lg:space-x-10",children:[e(L,{active:"upload-blogs"}),c("div",{className:"p-4 sm:p-8 bg-white w-full dark:bg-zinc-900 shadow sm:rounded-lg",children:[e("header",{className:"mb-5",children:e("h2",{className:"text-lg font-medium text-gray-600 dark:text-gray-100",children:"Edit Blog"})}),c("form",{onSubmit:a=>{a.preventDefault(),A(route("blogs.update",t.id),{forceFormData:!0})},encType:"multipart/form-data",children:[e(m,{value:"Title (EN)"}),e(u,{name:"title_en",value:i.title_en,handleChange:n,className:"mt-1 block w-full md:w-1/2"}),e(p,{message:d.title_en,className:"mt-2"}),e(m,{value:"Title (DE)",className:"mt-4"}),e(u,{name:"title_de",value:i.title_de,handleChange:n,className:"mt-1 block w-full md:w-1/2"}),e(p,{message:d.title_de,className:"mt-2"}),e(m,{value:"Image",className:"mt-4"}),e(u,{type:"file",name:"image",multiple:!0,handleChange:B,className:"mt-1 block w-full md:w-1/2"}),e(p,{message:d.image,className:"mt-2"}),e(m,{value:"Category",className:"mt-4"}),e(C,{mode:"multiple",allowClear:!0,style:{width:"50%"},placeholder:"Select categories",value:i.category_id,onChange:a=>f(a,"category_id"),options:x}),e(p,{message:d.category_id,className:"mt-2"}),e(m,{value:"Tags",className:"mt-4"}),e(C,{mode:"multiple",allowClear:!0,style:{width:"50%"},placeholder:"Select tags",value:i.tag_id,onChange:a=>f(a,"tag_id"),options:T}),e(p,{message:d.tag_id,className:"mt-2"}),e(m,{value:"Description (EN)",className:"mt-4"}),e(k,{name:"description_en",value:i.description_en,handleChange:n,className:"mt-1 block w-full md:w-1/2"}),e(m,{value:"Description (DE)",className:"mt-4"}),e(k,{name:"description_de",value:i.description_de,handleChange:n,className:"mt-1 block w-full md:w-1/2"}),e("hr",{className:"my-5"}),e("label",{className:"font-semibold",children:"SEO"}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-3",children:[["seo.h2","H2"],["seo.keyword","Keyword"],["seo.meta_keyword","Meta Keyword"],["seo.desc","Meta Description"],["seo.og_title","OG Title"],["seo.og_desc","OG Description"],["seo.cust_url","Custom URL"]].map(([a,r])=>c("div",{children:[e(m,{value:r}),e(u,{name:a,value:j(i,a),handleChange:n,className:"mt-1 block w-full"})]},a))}),e("div",{className:"flex justify-end mt-6",children:e(G,{processing:I,children:"Update Blog"})})]})]})]})]})}export{se as default};
