import{_ as s}from"./Translate.dc83ae5b.js";import{r as u,j as n,a as t,h as l}from"./app.8657e2b6.js";import{S as x}from"./sweetalert2.esm.all.08ba7c87.js";import{F as f}from"./index.es.195684a1.js";import{a as v}from"./index.7b5c1ca0.js";import"./index.517f43d0.js";function z({promo_banners:c}){const[m,h]=u.exports.useState(""),r=c||{data:[],links:[]},g=async(e,a)=>{try{const d=await fetch(e);if(!d.ok)throw new Error("Network response was not ok");const p=await d.blob(),i=window.URL.createObjectURL(p),o=document.createElement("a"),b=e.split(".").pop().split("?")[0];o.href=i,o.download=`promo_${a}.${b}`,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)}catch(d){console.error("Download failed:",d),x.fire("Error","Failed to download banner","error")}},w=e=>{const a=e.target.value;h(a),l.Inertia.visit(route("affiliate.dashboard"),{method:"get",data:{search:a},preserveState:!0,replace:!0})};return n("div",{className:"p-6 bg-white dark:bg-zinc-900 shadow-md rounded-md",children:[n("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[t("h2",{className:"text-2xl font-extrabold text-gray-800 dark:text-white",children:s("Promo Banners")}),t("input",{type:"text",value:m,onChange:w,placeholder:s("Search banners..."),className:"mt-4 md:mt-0 px-4 py-2 border border-gray-300 rounded-md shadow-sm dark:bg-zinc-800 dark:border-zinc-600 dark:text-white w-full md:w-1/3"})]}),t("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.data.length>0?r.data.map(e=>n("div",{className:"bg-gray-50 dark:bg-zinc-800 p-4 rounded-lg shadow-sm hover:shadow-md transition",children:[t("img",{src:e.thumbnail,alt:e.name,className:"w-full object-none rounded-md"}),n("div",{className:"mt-4 flex justify-between items-center",children:[t("div",{className:"text-base font-semibold text-gray-700 dark:text-white",children:e.name}),t("button",{onClick:()=>g(e.banner_image,e.id),title:"Download Banner",className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300",children:t(f,{icon:v})})]})]},e.id)):t("div",{className:"text-gray-500 dark:text-gray-400 col-span-full text-center py-10",children:s("No Promo Banners Found")})}),r.links&&r.links.length>3&&t("div",{className:"mt-10 flex justify-center flex-wrap gap-2",children:r.links.map((e,a)=>t("button",{disabled:!e.url,onClick:()=>e.url&&l.Inertia.visit(e.url),dangerouslySetInnerHTML:{__html:e.label},className:`px-3 py-1 rounded border text-sm ${e.active?"bg-indigo-600 text-white":"bg-white dark:bg-zinc-800 text-gray-700 dark:text-gray-200"} ${e.url?"hover:bg-indigo-100 dark:hover:bg-zinc-700":"opacity-50 cursor-not-allowed"}`},a))})]})}export{z as default};
