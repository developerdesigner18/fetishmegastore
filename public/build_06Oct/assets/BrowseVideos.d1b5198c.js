import{r as o,u as xe,j as r,a as t,H as ue,h as p,F as I}from"./app.8657e2b6.js";import{F as fe}from"./Front.2606f237.js";import{_ as a}from"./Translate.dc83ae5b.js";import{S as H}from"./SecondaryButton.d190bd81.js";import{F as be}from"./index.esm.8525a373.js";import{S as we}from"./Spinner.362c36a0.js";import y from"./VideosLoopNew.9b6d91af.js";import{M as G}from"./Modal.10f8a02a.js";import ke from"./SingleVideoDetails.885ddbc3.js";import{T as Ne}from"./TextInput.dc5362aa.js";import{A as ve}from"./AdBar.a4eca5da.js";import{d as ye}from"./react-cookie-consent.esm.46adfee2.js";import{a as Se}from"./index.esm.644fb4c6.js";import{P as Ce}from"./Pagination.dfc8bef2.js";import"./iconBase.efb5a903.js";import"./index.0271a3d0.js";import"./index.02c900e1.js";import"./index.a74bf29a.js";import"./react-toastify.esm.b3971d4c.js";import"./index.e7e076b2.js";import"./index.esm.e30f3812.js";import"./react-tooltip.min.dbaaf30d.js";/* empty css                          */import"./Loader.6dcf0e03.js";import"./transition.6485defc.js";import"./AuthenticatedLayout.7a8757e7.js";import"./index.ce9d5702.js";import"./PrimaryButton.e11d2297.js";import"./index.esm.ddc3e134.js";import"./index.3008a35f.js";import"./ShareLink.e5f34ffc.js";import"./TokenPurchasePopup.17f65d52.js";import"./SubscribePopup.ee7279f9.js";import"./index.1ce05e87.js";import"./index.a9fa6aed.js";import"./Textarea.e478d660.js";import"./VideosLoop.5692b9e7.js";import"./InputLabel.073d914c.js";import"./InputError.81cc3e9d.js";import"./index.2b834c0c.js";import"./index.517f43d0.js";/* empty css             */function xt({userLoginID:w,userrequest:d,randomvideos:x={data:[],total:0},recommendedVideo:k={data:[]},featuredChannels:N=[],videos:n,category:T,categories:J,exploreImage:K,tags:X,models:Z,blocks:v,headTitle:q,faqs:u}){var W,D,Q,U,Y;console.log("inside BrowseVideos"),console.log(w,"userLoginID");const[l,h]=o.exports.useState(d.sort||"Recently"),[S,ee]=o.exports.useState(""),[te,c]=o.exports.useState(!1),[B,Fe]=o.exports.useState(!1),[ae,re]=o.exports.useState(!1),[ie,_]=o.exports.useState(1),[f,A]=o.exports.useState(d.page||1),{auth:C,watchVideos:m=[]}=xe().props,R=!!(C!=null&&C.user),[oe,F]=o.exports.useState(!1),le=d.search&&d.search!==""||((W=d.selectedCategories)==null?void 0:W.length)>0||((D=d.selectedTags)==null?void 0:D.length)>0||((Q=d.selectedModels)==null?void 0:Q.length)>0,se=n.current_page==1;console.log("WATCHED VIDEOS: ",m),o.exports.useEffect(()=>{const e=localStorage.getItem("watchedPopupShown");m.length>0&&!e&&(F(!0),localStorage.setItem("watchedPopupShown","true"))},[m]),o.exports.useEffect(()=>{R&&m.length>0&&localStorage.removeItem("watchedPopupShown")},[R,m]);const de=async()=>{try{await axios.post(route("cache.clear"))}catch(e){console.error("Cache clear error:",e)}F(!1)};o.exports.useState({}),ye(e=>{e.target.value.length>2?(c(!0),p.Inertia.reload({data:{keyword:e.target.value,sortBy:l},only:["videos"],onFinish:()=>c(!1)})):p.Inertia.reload({data:{sortBy:l,keyword:""},only:["videos"],onFinish:()=>c(!1)})},500);const O=()=>{ie!=f&&l&&(_(f),p.Inertia.visit(route("videos.browse",{search:S,sort:l,selectedCategories:z,selectedTags:V,selectedModels:M,page:f}),{only:["videos","randomvideos","recommendedVideo","featuredChannels"],preserveState:!0,onBefore:()=>c(!0),onFinish:()=>c(!1)}))},ne=e=>{console.log("Page: ",e),A(e),O();let i=n.path+"?page="+e;p.Inertia.visit(i)};o.exports.useEffect(()=>{O()},[f]);const P=o.exports.useRef(),[z,E]=o.exports.useState(d.selectedCategories),[V,$]=o.exports.useState(d.selectedTags),[M,j]=o.exports.useState(d.selectedModels),ce=e=>{e.preventDefault(),_(1),A(1),p.Inertia.visit(route("videos.browse",{search:S,sort:l,selectedCategories:z,selectedTags:V,selectedModels:M}),{only:["videos","randomvideos","recommendedVideo","featuredChannels"],preserveState:!0,onBefore:()=>c(!0),onFinish:()=>c(!1)}),L()},he=e=>{const{value:i,checked:g}=e.target;E(g?s=>[...s,i]:s=>s.filter(b=>b!==i))},me=e=>{const{value:i,checked:g}=e.target;$(g?s=>[...s,i]:s=>s.filter(b=>b!==i))},ge=e=>{const{value:i,checked:g}=e.target;g?(console.log("event",g),j(s=>[...s,i])):j(s=>s.filter(b=>b!==i))},pe=e=>{e.preventDefault();const i="fixed inset-0 z-[9999] pt-5 px-2 overflow-scroll h-screen bg-white dark:bg-black  block w-2/3 flex-shrink-0 mr-5";P.current.className=i},L=e=>{e==null||e.preventDefault();const i="hidden lg:block w-56 lg:flex-shrink-0 lg:mr-5";console.log(`hiding filters ${i}`),P.current.className=i};return r(fe,{containerClass:"w-full",extraHeader:!0,extraHeaderTitle:a("Browse Videos"),extraHeaderImage:K,extraHeaderText:"",extraImageHeight:"h-14",children:[t(ue,{title:`${T!==null?a(":categoryName Videos",{categoryName:T.category}):q}`}),t(G,{show:ae,onClose:e=>re(!1),children:B&&t(ke,{video:B,inModal:!0})}),t(G,{show:oe,onClose:()=>F(!1),children:r("div",{className:"border dark:border-zinc-800 shadow-sm p-4 rounded-lg pb-2 bg-white dark:bg-zinc-900",children:[t("h2",{className:"text-xl font-bold text-indigo-700 dark:text-white mb-4",children:a("Watched Your Videos")}),t("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-5",children:m.map(e=>{var i;return r("div",{className:"border dark:border-zinc-800 shadow-sm rounded-lg pb-2 bg-white dark:bg-zinc-900 w-full",children:[r("div",{className:"relative",children:[t("a",{href:route("video.single.page",{id:e.slug}),"data-price":e.price,children:t("img",{src:e.thumbnail,alt:e.title,className:"mb-3"})}),t("div",{className:"absolute top-5 left-0 bg-indigo-800 text-white font-bold text-sm uppercase rounded-tr rounded-br px-2 py-1",children:e.price<1?a("Free"):t("div",{className:"flex items-center",children:e.price})})]}),r("div",{className:"inline-flex items-center px-3",children:[t("div",{className:"w-10 flex-shrink-0 mr-2",children:t("a",{href:e.streamer?route("channel",{user:e.streamer.username}):"#",children:(i=e.streamer)!=null&&i.profile_picture?t("img",{src:e.streamer.profile_picture,alt:"Streamer",className:"w-10 h-10 rounded-full"}):t("div",{className:"w-10 h-10 rounded-full bg-gray-300"})})}),t("div",{className:"h-5 overflow-hidden",children:t("a",{className:"font-semibold dark:text-indigo-100 hover:text-indigo-800 text-indigo-600 dark:hover:text-indigo-400",href:route("video.single.page",{id:e.slug}),children:e.title})})]})]},`vid-${e.id}`)})}),t("div",{className:"mt-4 text-center",children:t(H,{onClick:de,children:a("Close")})})]})}),r("div",{className:"flex w-full -mt-16",children:[t("form",{onSubmit:ce,children:r("div",{ref:P,className:"hidden lg:block w-56 lg:flex-shrink-0 lg:mr-5",children:[t("h3",{className:"text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900 dark:text-white shadow rounded-t-lg",children:a("Search")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3",children:t(Ne,{className:"w-full",name:"search",value:S,handleChange:e=>ee(e.target.value),placeholder:a("Search Video")})}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900 dark:text-white shadow rounded-t-lg",children:a("Sort By")}),r("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3",children:[r("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"radio",name:"sort",value:"Most",checked:l==="Most",className:"mr-2",onChange:e=>h(e.target.value)}),a("Most Viewed")]}),r("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"radio",name:"sort",value:"Recently",checked:l==="Recently",className:"mr-2",onChange:e=>h(e.target.value)}),a("Newest Uploaded")]}),r("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"radio",name:"sort",checked:l==="Older",value:"Older",className:"mr-2",onChange:e=>h(e.target.value)}),a("Older Videos")]}),r("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"radio",name:"sort",checked:l==="Highest",value:"Highest",className:"mr-2",onChange:e=>h(e.target.value)}),a("Highest Price")]}),r("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"radio",name:"sort",checked:l==="Lowest",value:"Lowest",className:"mr-2",onChange:e=>h(e.target.value)}),a("Lowest Price")]}),r("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"radio",name:"sort",checked:l==="Only Free",value:"Only Free",className:"mr-2",onChange:e=>h(e.target.value)}),a("Only Free")]})]}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900  dark:text-white shadow rounded-t-lg",children:a("Category")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3 overflow-y-auto h-48",children:J.map(e=>r("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"checkbox",name:"categories[]",className:"mr-2",value:e.id,onChange:he,checked:z.includes(e.id.toString())}),e.category]},`catFilter-${e.id}`))}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900  dark:text-white shadow rounded-t-lg",children:a("Tags")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3 overflow-y-auto h-48",children:X.map(e=>{var i;return r("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"checkbox",name:"tags[]",className:"mr-2",value:e.name,onChange:me,checked:V.includes((i=e==null?void 0:e.name)==null?void 0:i.toString())}),e.name]},`tagFilter-${e.id}`)})}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900  dark:text-white shadow rounded-t-lg",children:a("Models")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3 overflow-y-auto h-48",children:Z.map(e=>r("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer",children:[t("input",{type:"checkbox",name:"models[]",className:"mr-2",value:e.id,onChange:ge,checked:M.includes(e.id.toString())}),e.name]},`modelFilter-${e.id}`))}),te?t("div",{className:"my-3",children:t(we,{})}):t("button",{className:"mt-5 bg-indigo-500 dark:bg-zinc-800 font-semibold text-white rounded-lg px-2 py-1.5 block w-full",children:a("Apply Filters")}),t(H,{className:"mt-2",onClick:e=>p.Inertia.visit(route("videos.browse")),children:a("Reset")}),t("div",{className:"lg:hidden text-center border-t border-t-gray-300 dark:border-gray-900 py-5",children:t(H,{className:"",onClick:e=>L(e),children:a("Close")})})]})}),r("div",{className:"flex-grow",children:[r("button",{onClick:e=>pe(e),className:"mb-7 px-3 -mt-1 py-1.5 bg-indigo-500 text-white rounded-lg lg:hidden flex items-center justify-end",children:[t(Se,{className:"mr-1"}),a("Show Filters")]}),n.total===0&&r("div",{className:"text-xl bg-white rounded-lg shadow text-gray-600 dark:bg-zinc-900 dark:text-white font-light p-3 flex items-center",children:[t(be,{className:"w-12 h-12 mr-2"}),a("No videos to show")]}),se&&!le&&((U=x==null?void 0:x.data)==null?void 0:U.length)>0&&r("div",{children:[t("h2",{className:"text-indigo-700 text-2xl font-bold dark:text-white",children:a("Random Videos")}),t(y,{videos:x.data,blocks:v,types:x.data.map(e=>e.type),userLoginID:w}),t("h2",{className:"text-indigo-700 text-2xl font-bold dark:text-white",children:a("Filtered Videos")})]}),t(y,{videos:n.data,blocks:v,userLoginID:w}),((Y=k==null?void 0:k.data)==null?void 0:Y.length)>0&&r(I,{children:[t("h2",{className:"text-indigo-700 text-2xl font-bold dark:text-white",children:a("Recommended Videos")}),t(y,{videos:k.data,blocks:v})]}),(N==null?void 0:N.length)>0&&r(I,{children:[t("h2",{className:"text-indigo-700 text-2xl font-bold dark:text-white",children:a("Featured Channels Videos")}),N.map(e=>t("div",{className:"my-5",children:e.videos&&e.videos.length>0?t(y,{videos:e.videos,blocks:v,userLoginID:w}):t("div",{className:"text-gray-600 dark:text-white mt-3",children:a("No featured videos found")})},e.id))]}),n.last_page>1&&r(I,{children:[t("div",{className:"flex text-gray-600 mt-10 mb-5 text-sm",children:a("Page: :pageNumber of :lastPage",{pageNumber:n.current_page,lastPage:n.last_page})}),t(Ce,{total:n.last_page*10,current:f,onChange:ne,showSizeChanger:!1})]}),t("br",{}),t("div",{className:"mt-3",children:t(ve,{})}),u&&Array.isArray(u)&&u.length>0&&r("div",{className:"mt-10",children:[t("h2",{className:"text-indigo-700 text-2xl font-bold dark:text-white mb-4",children:a("Frequently Asked Questions")}),t("div",{className:"space-y-4",children:u.slice(0,5).map(e=>t("div",{className:"bg-white dark:bg-zinc-800 shadow rounded-lg",children:r("details",{className:"group p-4",children:[t("summary",{className:"font-semibold cursor-pointer text-lg text-indigo-700 dark:text-indigo-300",children:e.question}),t("p",{className:"mt-2 text-gray-700 dark:text-gray-200 leading-relaxed",children:e.answer})]})},e.id))}),u.length>5&&t("div",{className:"text-center mt-6",children:t("a",{href:route("web.faq.index"),className:"px-5 py-3 bg-indigo-800 border border-transparent rounded font-black text-xs text-white uppercase tracking-widest hover:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:border-gray-900 focus:ring ring-gray-300 disabled:opacity-25 transition ease-in-out duration-150",children:a("View More FAQs")})})]})]})]})]})}export{xt as default};
