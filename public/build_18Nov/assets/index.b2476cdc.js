import{r as o,u as ge,j as s,a as t,H as pe,F as ue,h as O}from"./app.64d592ef.js";import{F as xe}from"./Front.fbff2f23.js";import{_ as r}from"./Translate.dc83ae5b.js";import{S}from"./SecondaryButton.23e9a09b.js";import{F as H}from"./index.esm.c12364d4.js";import{S as be}from"./Spinner.507e754f.js";import I from"./ProductsLoop.58b14db1.js";import{M as A}from"./Modal.81054d6f.js";import fe from"./SingleVideoDetails.f8caa313.js";import{T as we}from"./TextInput.618a5da3.js";import{A as ke}from"./AdBar.31afead4.js";import{a as Ne}from"./index.esm.98cdc89d.js";import{P as ve}from"./Pagination.1257e6b2.js";import"./iconBase.9b35345f.js";import"./index.6e860bb5.js";import"./index.aca621cc.js";import"./index.6369b7cd.js";import"./react-cookie-consent.esm.c9f68579.js";import"./transition.cfd51e90.js";import"./react-toastify.esm.06aebf17.js";import"./index.e7e076b2.js";import"./index.esm.7bfaeba6.js";import"./index.esm.4c71fcdf.js";import"./AuthenticatedLayout.fa68427b.js";import"./index.2c07426a.js";import"./PrimaryButton.dc200cb7.js";import"./index.esm.ec0895af.js";import"./index.dc633638.js";import"./ShareLink.5786ae10.js";import"./TokenPurchasePopup.6fd433ed.js";import"./SubscribePopup.0af94504.js";import"./index.44fc087a.js";import"./index.6cfa1c68.js";import"./Textarea.8137cc1e.js";import"./VideosLoop.b66d85ad.js";import"./react-tooltip.min.a2f274fb.js";/* empty css                          */import"./Loader.8706f3ac.js";import"./InputLabel.4e4122f6.js";import"./InputError.e1768fe1.js";import"./index.83b8a9e0.js";import"./index.517f43d0.js";/* empty css             */function ft({userLoginID:ye,userrequest:Se={},randomProducts:b={data:[],total:0},recommendedVideo:Ce={data:[]},featuredChannels:ze=[],products:C,category:z,categories:L,exploreImage:R,tags:$,models:B,blocks:F,headTitle:D,faqs:h,filters:n}){var _;const[l,j]=o.exports.useState(C||{data:[],total:0,current_page:1}),[f,W]=o.exports.useState(n.sort||"Recently"),[m,E]=o.exports.useState(n.search||""),[Q,w]=o.exports.useState(C.current_page||1),[g,U]=o.exports.useState(n.selectedCategories||[]),[p,Y]=o.exports.useState(n.selectedTags||[]),[u,G]=o.exports.useState(n.selectedModels||[]),[x,J]=o.exports.useState(n.selectedTypes||[]),K=["video","short-video","audio","ebook","gallery"],[P,T]=o.exports.useState(!1),X=l.data&&l.data.length>0;console.log(l,"products");const Z=l.current_page===1,[M,Fe]=o.exports.useState(!1),[q,ee]=o.exports.useState(!1),{auth:Pe,watchVideos:k=[]}=ge().props,[te,N]=o.exports.useState(!1),v=o.exports.useRef(),re=m!==""||g.length>0||p.length>0||u.length>0;o.exports.useEffect(()=>{const e=localStorage.getItem("watchedPopupShown");k.length>0&&!e&&(N(!0),localStorage.setItem("watchedPopupShown","true"))},[k]);const y=(e,a)=>{T(!0),O.Inertia.get(route("products.index"),{...a,page:e},{preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:d=>{j(d.props.products)},onFinish:()=>T(!1)})},ae=e=>{e.preventDefault(),w(1),y(1,{sort:f,search:m,selectedCategories:g,selectedTags:p,selectedModels:u,selectedTypes:x}),V()},se=e=>{w(e),y(e,{sort:f,search:m,selectedCategories:g,selectedTags:p,selectedModels:u,selectedTypes:x})},oe=e=>{const a=e.target.value;W(a),w(1),y(1,{sort:a,search:m,selectedCategories:g,selectedTags:p,selectedModels:u,selectedTypes:x})},le=e=>{const{value:a,checked:d}=e.target;J(i=>d?[...i,a]:i.filter(c=>c!==a))},ie=e=>{const{value:a,checked:d}=e.target;U(i=>d?[...i,a]:i.filter(c=>c!==a))},de=e=>{const{value:a,checked:d}=e.target;Y(i=>d?[...i,a]:i.filter(c=>c!==a))},ce=e=>{const{value:a,checked:d}=e.target;G(i=>d?[...i,a]:i.filter(c=>c!==a))},ne=e=>{e.preventDefault(),v.current.className="fixed inset-0 z-[9999] pt-5 px-2 overflow-scroll h-screen bg-white dark:bg-black block w-2/3 flex-shrink-0 mr-5"},V=e=>{e==null||e.preventDefault(),v.current.className="hidden lg:block w-56 lg:flex-shrink-0 lg:mr-5"},he=e=>{e.preventDefault(),O.Inertia.visit(route("products.index"))},me=async()=>{try{await axios.post(route("cache.clear"))}catch(e){console.error("Cache clear error:",e)}N(!1)};return s(xe,{containerClass:"w-full",extraHeader:!0,extraHeaderTitle:r("Browse Products"),extraHeaderImage:R,extraHeaderText:"",extraImageHeight:"h-14",children:[t(pe,{title:`${z!==null?r(":categoryName Products",{categoryName:z.category}):D}`}),t(A,{show:q,onClose:e=>ee(!1),children:M&&t(fe,{video:M,inModal:!0})}),t(A,{show:te,onClose:()=>N(!1),children:s("div",{className:"border dark:border-zinc-800 shadow-sm p-4 rounded-lg pb-2 bg-white dark:bg-zinc-900",children:[t("h2",{className:"text-xl font-bold text-indigo-700 dark:text-white mb-4",children:r("Watched Your Videos")}),t("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-5",children:k.map(e=>{var a;return s("div",{className:"border dark:border-zinc-800 shadow-sm rounded-lg pb-2 bg-white dark:bg-zinc-900 w-full",children:[s("div",{className:"relative",children:[t("a",{href:route("video.single.page",{id:e.slug}),"data-price":e.price,children:t("img",{src:e.thumbnail,alt:e.title,className:"mb-3"})}),t("div",{className:"absolute top-5 left-0 bg-indigo-800 text-white font-bold text-sm uppercase rounded-tr rounded-br px-2 py-1",children:e.price<1?r("Free"):t("div",{className:"flex items-center",children:e.price})})]}),s("div",{className:"inline-flex items-center px-3",children:[t("div",{className:"w-10 flex-shrink-0 mr-2",children:t("a",{href:e.streamer?route("channel",{user:e.streamer.username}):"#",children:(a=e.streamer)!=null&&a.profile_picture?t("img",{src:e.streamer.profile_picture,alt:"Streamer",className:"w-10 h-10 rounded-full"}):t("div",{className:"w-10 h-10 rounded-full bg-gray-300"})})}),t("div",{className:"h-5 overflow-hidden",children:t("a",{className:"font-semibold dark:text-indigo-100 hover:text-indigo-800 text-indigo-600 dark:hover:text-indigo-400",href:route("video.single.page",{id:e.slug}),children:e.title})})]})]},`vid-${e.id}`)})}),t("div",{className:"mt-4 text-center",children:t(S,{onClick:me,children:r("Close")})})]})}),s("div",{className:"flex w-full -mt-16",children:[t("form",{onSubmit:ae,children:s("div",{ref:v,className:"hidden lg:block w-56 lg:flex-shrink-0 lg:mr-5",children:[t("h3",{className:"text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900 dark:text-white shadow rounded-t-lg",children:r("Search")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3",children:t(we,{className:"w-full",name:"search",value:m,handleChange:e=>E(e.target.value),placeholder:r("Search Video")})}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900  dark:text-white shadow rounded-t-lg",children:r("Product Type")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3",children:K.map(e=>s("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer capitalize",children:[t("input",{type:"checkbox",name:"types[]",className:"mr-2",value:e,onChange:le,checked:x.includes(e)}),r(e.replace("-"," "))]},`typeFilter-${e}`))}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900 dark:text-white shadow rounded-t-lg",children:r("Sort By")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3",children:["Most","Recently","Older","Highest","Lowest","Only Free"].map(e=>s("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer",children:[t("input",{type:"radio",name:"sort",value:e,checked:f===e,className:"mr-2",onChange:oe}),r(e==="Most"?"Most Viewed":e==="Recently"?"Newest Uploaded":e==="Older"?"Older Videos":e==="Highest"?"Highest Price":e==="Lowest"?"Lowest Price":"Only Free")]},e))}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900  dark:text-white shadow rounded-t-lg",children:r("Category")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3 overflow-y-auto h-48",children:L.map(e=>s("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer",children:[t("input",{type:"checkbox",name:"categories[]",className:"mr-2",value:e.id,onChange:ie,checked:g.includes(String(e.id))}),e.category]},`catFilter-${e.id}`))}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900  dark:text-white shadow rounded-t-lg",children:r("Tags")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3 overflow-y-auto h-48",children:$.map(e=>{var a;return s("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"checkbox",name:"tags[]",className:"mr-2",value:e.name,onChange:de,checked:p.includes((a=e==null?void 0:e.name)==null?void 0:a.toString())}),e.name]},`tagFilter-${e.id}`)})}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900  dark:text-white shadow rounded-t-lg",children:r("Models")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3 overflow-y-auto h-48",children:B.map(e=>s("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer",children:[t("input",{type:"checkbox",name:"models[]",className:"mr-2",value:e.id,onChange:ce,checked:u.includes(e.id.toString())}),e.name]},`modelFilter-${e.id}`))}),P?t("div",{className:"my-3",children:t(be,{})}):t("button",{type:"submit",className:"mt-5 bg-indigo-500 dark:bg-zinc-800 font-semibold text-white rounded-lg px-2 py-1.5 block w-full",children:r("Apply Filters")}),t(S,{className:"mt-2",onClick:he,children:r("Reset")}),t("div",{className:"lg:hidden text-center border-t border-t-gray-300 dark:border-gray-900 py-5",children:t(S,{className:"",onClick:e=>V(e),children:r("Close")})})]})}),s("div",{className:"flex-grow",children:[s("button",{onClick:e=>ne(e),className:"mb-7 px-3 -mt-1 py-1.5 bg-indigo-500 text-white rounded-lg lg:hidden flex items-center justify-end",children:[t(Ne,{className:"mr-1"}),r("Show Filters")]}),l.total===0&&s("div",{className:"text-xl bg-white rounded-lg shadow text-gray-600 dark:bg-zinc-900 dark:text-white font-light p-3 flex items-center",children:[t(H,{className:"w-12 h-12 mr-2"}),r("No products to show")]}),!X&&!P&&s("div",{className:"text-xl bg-white rounded-lg shadow text-gray-600 dark:bg-zinc-900 dark:text-white font-light p-3 flex items-center",children:[t(H,{className:"w-12 h-12 mr-2"}),r("No products to show")]}),Z&&!re&&((_=b==null?void 0:b.data)==null?void 0:_.length)>0&&s("div",{children:[t("h2",{className:"text-indigo-700 text-2xl font-bold dark:text-white",children:r("Random Videos")}),t(I,{products:l.data,blocks:F}),t("h2",{className:"mt-5 text-indigo-700 text-2xl font-bold dark:text-white",children:r("Filtered Products")})]}),t(I,{products:l.data,blocks:F}),l.last_page>1&&s(ue,{children:[t("div",{className:"flex text-gray-600 mt-10 mb-5 text-sm",children:r("Page: :pageNumber of :lastPage",{pageNumber:l.current_page,lastPage:l.last_page})}),t(ve,{total:l.last_page*10,current:Q,onChange:se,showSizeChanger:!1})]}),t("br",{}),t("div",{className:"mt-3",children:t(ke,{})}),h&&Array.isArray(h)&&h.length>0&&s("div",{className:"mt-10",children:[t("h2",{className:"text-indigo-700 text-2xl font-bold dark:text-white mb-4",children:r("Frequently Asked Questions")}),t("div",{className:"space-y-4",children:h.slice(0,5).map(e=>t("div",{className:"bg-white dark:bg-zinc-800 shadow rounded-lg",children:s("details",{className:"group p-4",children:[t("summary",{className:"font-semibold cursor-pointer text-lg text-indigo-700 dark:text-indigo-300",children:e.question}),t("p",{className:"mt-2 text-gray-700 dark:text-gray-200 leading-relaxed",children:e.answer})]})},e.id))}),h.length>5&&t("div",{className:"text-center mt-6",children:t("a",{href:route("web.faq.index"),className:"px-5 py-3 bg-indigo-800 border border-transparent rounded font-black text-xs text-white uppercase tracking-widest hover:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:border-gray-900 focus:ring ring-gray-300 disabled:opacity-25 transition ease-in-out duration-150",children:r("View More FAQs")})})]})]})]})]})}export{ft as default};
