import{r as i,j as l,a as t,H as F,F as C,h as p}from"./app.64d592ef.js";import{_ as a}from"./Translate.dc83ae5b.js";import{S as z}from"./SecondaryButton.23e9a09b.js";import{a as P}from"./index.2c07426a.js";import{T as _}from"./TagsLoop.061b87ec.js";import{S as H}from"./Spinner.507e754f.js";import{F as I}from"./Front.fbff2f23.js";import{T as D}from"./TextInput.618a5da3.js";import{I as j}from"./index.ad0cf7d8.js";import{P as L}from"./Pagination.1257e6b2.js";import"./index.6e860bb5.js";import"./iconBase.9b35345f.js";import"./index.aca621cc.js";import"./index.6369b7cd.js";import"./react-cookie-consent.esm.c9f68579.js";import"./transition.cfd51e90.js";import"./Modal.81054d6f.js";import"./react-toastify.esm.06aebf17.js";import"./index.e7e076b2.js";import"./index.esm.7bfaeba6.js";function re({channels:s,exploreImage:f,tags:u,userrequest:x}){const o=i.exports.useRef(),[d,b]=i.exports.useState(""),[w,c]=i.exports.useState(!1),[m,g]=i.exports.useState(x.selectedTags),k=e=>{e.preventDefault(),p.Inertia.visit(route("tag.browse",{search:d,selectedTags:m}),{preserveState:!0,onBefore:()=>c(!0),onFinish:()=>c(!1)}),h()},v=e=>{console.log("Page: ",e);let r=s.path+"?page="+e;p.Inertia.visit(r)},N=e=>{e.preventDefault();const r="fixed inset-0 z-[9999] pt-5 px-2 overflow-scroll h-screen bg-white dark:bg-black  block w-2/3 flex-shrink-0 mr-5";o.current.className=r},h=e=>{e==null||e.preventDefault();const r="hidden lg:block w-56 lg:flex-shrink-0 lg:mr-5";console.log(`hiding filters ${r}`),o.current.className=r},S=e=>{const{value:r,checked:T}=e.target;g(T?n=>[...n,r]:n=>n.filter(y=>y!==r))};return l(I,{containerClass:"w-full",extraHeader:!0,extraHeaderTitle:a("Discover Tags"),extraHeaderImage:f,extraHeaderText:"",extraImageHeight:"h-14",children:[t(F,{title:a("Discover Tags")}),l("div",{className:"flex w-full -mt-16",children:[t("form",{onSubmit:k,children:l("div",{ref:o,className:"hidden lg:block w-56 lg:flex-shrink-0 lg:mr-5",children:[t("h3",{className:"text-indigo-700 dark:text-white text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900 shadow rounded-t-lg",children:a("Search")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3",children:t(D,{className:"w-full",name:"search",value:d,handleChange:e=>b(e.target.value),placeholder:a("Search Tags")})}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900  dark:text-white shadow rounded-t-lg",children:a("Tags")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3 overflow-y-auto h-48",children:u.map(e=>{var r;return l("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"checkbox",name:"tags[]",className:"mr-2",value:e.id,onChange:S,checked:m.includes((r=e==null?void 0:e.id)==null?void 0:r.toString())}),e.name]},`tagFilter-${e.id}`)})}),w?t("div",{className:"my-3",children:t(H,{})}):t("button",{className:"mt-5 bg-indigo-500 dark:bg-zinc-800 font-semibold text-white rounded-lg px-2 py-1.5 block w-full",children:a("Apply Filters")}),t("div",{className:"lg:hidden text-center border-t dark:border-zinc-800 border-t-gray-300 py-5",children:t(z,{className:"",onClick:e=>h(e),children:a("Close")})})]})}),l("div",{className:"flex-grow",children:[l("button",{onClick:e=>N(e),className:"mb-7 px-3 -mt-1 py-1.5 bg-indigo-500 text-white rounded-lg lg:hidden flex items-center justify-end",children:[t(j,{className:"mr-1"}),a("Show Filters")]}),s.total===0&&l("div",{className:"text-xl bg-white dark:bg-zinc-900 rounded-lg shadow text-gray-600 dark:text-white font-light p-3 flex items-center",children:[t(P,{className:"w-12 h-12 mr-2"}),a("No Tags to show")]}),t(_,{channels:s.data}),s.last_page>1&&l(C,{children:[t("div",{className:"flex text-gray-600 mt-10 mb-5 text-sm",children:a("Page: :pageNumber of :lastPage",{pageNumber:s.current_page,lastPage:s.last_page})}),t(L,{total:s.last_page*10,defaultCurrent:s.current_page,onChange:v,showSizeChanger:!1})]})]})]})]})}export{re as default};
