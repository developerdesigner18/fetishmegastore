import{r as o,u as g,a as e,j as a,F as h}from"./app.64d592ef.js";import{F as x}from"./Front.fbff2f23.js";import{_ as m}from"./Translate.dc83ae5b.js";import w from"./ChatRoom.6954731c.js";import v from"./VideoJs.ca66d9fe.js";import y from"./StreamInstructions.cebaff20.js";import"./iconBase.9b35345f.js";import"./index.6e860bb5.js";import"./index.aca621cc.js";import"./index.6369b7cd.js";import"./react-cookie-consent.esm.c9f68579.js";import"./transition.cfd51e90.js";import"./Modal.81054d6f.js";import"./react-toastify.esm.06aebf17.js";import"./TextInput.618a5da3.js";import"./index.e7e076b2.js";import"./index.esm.7bfaeba6.js";import"./index.dc633638.js";import"./TipPopup.db45f15e.js";import"./PrimaryButton.dc200cb7.js";import"./InputLabel.4e4122f6.js";import"./Textarea.8137cc1e.js";import"./NumberInput.9b099d76.js";import"./SecondaryButton.23e9a09b.js";import"./react-tooltip.min.a2f274fb.js";/* empty css                          */import"./video-js.02cf4279.js";function X({isChannelOwner:b,streamUser:t,roomName:s}){var n;const[l,R]=o.exports.useState(t.live_status!=="online"),[p,u]=o.exports.useState(!0),{auth:i}=g().props;console.info(`${route("home")}/livestreams/${s}.m3u8`);const d=o.exports.useRef(null),f={autoplay:!1,controls:!0,responsive:!0,fill:!0,preload:"auto",fluid:!0,sources:[{src:`${route("home")}/livestreams/${s}.m3u8`,type:"application/x-mpegURL"}]},c=r=>{d.current=r,r.on("waiting",()=>{console.log("player is waiting")}),r.on("dispose",()=>{console.log("player will dispose")})};return o.exports.useEffect(()=>{},[]),e(x,{extraHeader:!0,extraHeaderTitle:m("@:username's Live Stream",{username:t.username}),extraHeaderImage:"/images/live-stream-icon.png",extraImageHeight:"h-10",children:a("div",{className:"sm:-mt-[70px] -mt-[110px] flex max-w-7xl flex-col lg:flex-row lg:justify-between items-start h-fit",children:[e("div",{className:"w-full h-full",children:l?e(y,{streamKey:s,streamUser:t.username}):a(h,{children:[t.username===((n=i==null?void 0:i.user)==null?void 0:n.username)&&a("div",{className:`${p?"flex":"hidden"} mb-3 mt-5 lg:mt-0 p-3 bg-white dark:bg-zinc-800 dark:text-white text-indigo-700 font-medium`,children:[m("If you just started streaming in OBS, refresh this page after 30 seconds to see your stream."),e("button",{className:"ml-2 border-b border-indigo-700 dark:border-white",onClick:r=>u(!1),children:m("Close message")})]}),e(v,{options:f,onReady:c})]})}),e(w,{streamer:t})]})})}export{X as default};
