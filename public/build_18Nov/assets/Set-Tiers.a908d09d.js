import{u as L,r as c,i as Y,j as a,a as e,H as O,L as E,h as b}from"./app.64d592ef.js";import{A as F}from"./AuthenticatedLayout.fa68427b.js";import{_ as t}from"./Translate.dc83ae5b.js";import{I as m}from"./InputLabel.4e4122f6.js";import{T as d}from"./TextInput.618a5da3.js";import{I as i}from"./InputError.e1768fe1.js";import{T as v}from"./Textarea.8137cc1e.js";import{P as x}from"./PrimaryButton.dc200cb7.js";import{M as f}from"./Modal.81054d6f.js";import{n as R}from"./index.44fc087a.js";import{D as G}from"./DangerButton.e37a369d.js";import{S as _}from"./SecondaryButton.23e9a09b.js";import{R as W}from"./index.d9a8cbab.js";import{a as $}from"./index.6cfa1c68.js";import J from"./AccountNavi.c0aead7d.js";import{j as K}from"./index.dc633638.js";import"./Front.fbff2f23.js";import"./iconBase.9b35345f.js";import"./index.6e860bb5.js";import"./index.aca621cc.js";import"./index.6369b7cd.js";import"./react-cookie-consent.esm.c9f68579.js";import"./transition.cfd51e90.js";import"./react-toastify.esm.06aebf17.js";import"./index.e7e076b2.js";import"./index.esm.7bfaeba6.js";function be({auth:w,tiers:h,thanksMsg:T}){L().props;const[C,o]=c.exports.useState(!1),[S,N]=c.exports.useState(!1),[D,p]=c.exports.useState(!1),[g,P]=c.exports.useState(0),[y,M]=c.exports.useState(T),{data:l,setData:I,post:A,processing:k,errors:r,reset:j}=Y({tier_name:"",perks:"",tier_price:"",six_months_discount:10,one_year_discount:20}),n=s=>{I(s.target.name,s.target.type==="checkbox"?s.target.checked:s.target.value)},q=s=>{s.preventDefault(),A(route("membership.add-tier"),{onSuccess:()=>{o(!1),j()}})},z=s=>{s.preventDefault(),b.Inertia.visit(route("membership.save-thanks",{thanks_message:y}),{method:"POST"})},B=(s,u)=>{s.preventDefault(),p(!0),P(u)},H=()=>{console.log("Will delete #"+g),b.Inertia.visit(route("membership.delete-tier"),{method:"POST",data:{tier:g},preserveState:!1})};return a(F,{auth:w,children:[e(O,{title:t("Channel Membership Tiers")}),a("div",{className:"lg:flex lg:space-x-10",children:[e(J,{active:"tiers"}),a("div",{className:"p-4 flex-shrink sm:p-8 bg-white dark:bg-zinc-900 shadow sm:rounded-lg",children:[a("header",{children:[a("h2",{className:"text-lg inline-flex items-center md:text-xl font-medium text-gray-600 dark:text-gray-100",children:[e(K,{className:"mr-2"}),t("Channel Membership Tiers")]}),e("p",{className:"mt-1 mb-2 text-sm text-gray-600 dark:text-gray-400",children:t("Set the subscription prices and perks for your channel")}),e(x,{onClick:s=>o(!0),children:t("+Add Tier")}),e(_,{className:"ml-2",onClick:s=>N(!0),children:t("Configure Thanks Message")})]}),e("hr",{className:"my-5"}),e(f,{show:S,onClose:s=>N(!1),children:a("div",{className:"p-5 text-gray-600 dark:text-gray-100 text-lg text-center",children:[t("Here you can configure a thanks message which will be sent as a notification to users which just subscribed to any of your tiers"),e("form",{onSubmit:z,children:a("div",{className:"my-4",children:[e(v,{name:"thanks_message",value:y,handleChange:s=>{M(s.target.value)},required:!0,className:"mt-1 block w-full"}),e(i,{message:r.thanks_message,className:"mt-2"}),e(x,{processing:k,className:"mt-4",children:t("Save")})]})})]})}),e(f,{show:C,onClose:s=>o(!1),children:e("div",{className:"p-5",children:a("form",{onSubmit:q,children:[a("div",{className:"mb-4",children:[e(m,{for:"tier_name",value:t("Tier Name")}),e(d,{name:"tier_name",value:l.tier_name,handleChange:n,required:!0,className:"mt-1 block w-full"}),e(i,{message:r.tier_name,className:"mt-2"})]}),a("div",{className:"flex flex-col md:flex-row md:justify-between",children:[a("div",{className:"mb-4",children:[e(m,{for:"tier_price",value:t("Tier Price (Tokens)")}),a("div",{className:"flex items-center",children:[e(d,{name:"tier_price",value:l.tier_price,handleChange:n,required:!0,className:"mt-1 block w-24"}),e("div",{className:"ml-1 dark:text-white text-gray-700",children:t(" $/month")})]}),e(i,{message:r.tier_price,className:"mt-2"})]}),a("div",{className:"mb-4",children:[e(m,{for:"six_months_discount",value:t("6 Months Discount Percentage")}),a("div",{className:"flex items-center",children:[e(d,{name:"six_months_discount",value:l.six_months_discount,handleChange:n,required:!0,className:"mt-1 block w-24"}),e("div",{className:"ml-1 dark:text-white text-gray-700",children:t("%")})]}),e(i,{message:r.six_months_discount,className:"mt-2"})]}),a("div",{className:"mb-4",children:[e(m,{for:"one_year_discount",value:t("1 Year Discount Percentage")}),a("div",{className:"flex items-center",children:[e(d,{name:"one_year_discount",value:l.one_year_discount,handleChange:n,required:!0,className:"mt-1 block w-24"}),e("div",{className:"ml-1 dark:text-white text-gray-700",children:t("%")})]}),e(i,{message:r.one_year_discount,className:"mt-2"})]})]}),a("div",{className:"mb-4",children:[e(m,{for:"",value:t("Perks & Benefits")}),e(v,{name:"perks",value:l.perks,handleChange:n,required:!0,className:"mt-1 block w-full"}),e(i,{message:r.perks,className:"mt-2"})]}),a("div",{className:"flex justify-between items-center",children:[e(x,{processing:k,children:t("Save Tier")}),e("a",{className:"cursor-pointer ml-2 text-sm text-rose-600 hover:text-rose-800",onClick:s=>o(!1),children:t("Cancel")})]})]})})}),e(f,{show:D,onClose:s=>p(!1),children:a("div",{className:"px-5 py-10 text-center",children:[e("h3",{className:"text-xl mb-3 text-zinc-700 dark:text-white",children:t("Are you sure you want to remove this Tier?")}),e(G,{onClick:s=>H(),children:t("Yes")}),e(_,{className:"ml-3",onClick:s=>p(!1),children:t("No")})]})}),e("span",{className:"text-gray-600",children:!h.length&&t("You did't create any membership tiers yet.")}),h.length&&e("div",{className:"relative overflow-x-auto mt-5",children:a("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-zinc-800 dark:text-gray-400",children:a("tr",{children:[e("th",{className:"px-6 py-3",children:t("Tier")}),e("th",{className:"px-6 py-3",children:t("Price (Tokens)")}),e("th",{className:"px-6 py-3",children:t("6 Mths %")}),e("th",{className:"px-6 py-3",children:t("1 Yr %")}),e("th",{className:"px-6 py-3",children:t("Perks")}),e("th",{className:"px-6 py-3",children:t("Members")}),e("th",{className:"px-6 py-3",children:"-"})]})}),e("tbody",{children:h.map(s=>a("tr",{className:"bg-white border-b dark:bg-zinc-900 dark:border-zinc-700",children:[e("td",{className:"px-6 py-4 text-lg font-semibold",children:s.tier_name}),e("td",{className:"px-6 py-4",children:e("span",{className:"px-2 flex py-1 rounded-lg bg-sky-500 text-white",children:t(":tokensPrice tokens",{tokensPrice:s.price})})}),e("td",{className:"px-6 py-4",children:a("span",{className:"px-2 py-1 rounded-lg bg-teal-500 text-white",children:[s.six_months_discount,"%"]})}),e("td",{className:"px-6 py-4",children:a("span",{className:"px-2 py-1 rounded-lg bg-fuchsia-500 text-white",children:[s.one_year_discount,"%"]})}),e("td",{className:"px-6 py-4",children:R(s.perks)}),e("td",{className:"px-6 py-4",children:e("span",{className:"px-2 py-1 rounded-lg bg-neutral-300 text-neutral-700",children:s.subscribers_count})}),e("td",{className:"px-6 py-4",children:a("div",{className:"flex items-center",children:[e(E,{href:route("membership.edit-tier",{tier:s.id}),children:e($,{className:"w-6 h-6 mr-2 text-sky-600"})}),e("button",{onClick:u=>B(u,s.id),children:e(W,{className:"text-red-600 w-5 h-5"})})]})})]},s.id))})]})})]})]})]})}export{be as default};
