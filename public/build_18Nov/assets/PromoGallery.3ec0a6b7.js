import{_ as l}from"./Translate.dc83ae5b.js";import{r as x,j as i,a as t,L as f,h as n}from"./app.64d592ef.js";import{S as v}from"./sweetalert2.esm.all.08ba7c87.js";import{F as y}from"./index.es.44ef8843.js";import{a as k}from"./index.7b5c1ca0.js";import"./index.517f43d0.js";function $({promo_gallery:c,affiliate_code:m}){const[h,g]=x.exports.useState(""),a=c||{data:[],links:[]},p=async(e,r)=>{try{const d=await fetch(e);if(!d.ok)throw new Error("Network response was not ok");const w=await d.blob(),s=window.URL.createObjectURL(w),o=document.createElement("a"),b=e.split(".").pop().split("?")[0];o.href=s,o.download=`promo_${r}.${b}`,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(s)}catch(d){console.error("Download failed:",d),v.fire("Error","Failed to download gallery","error")}},u=e=>{const r=e.target.value;g(r),n.Inertia.visit(route("affiliate.dashboard"),{method:"get",data:{search:r},preserveState:!0,replace:!0})};return i("div",{className:"p-6 bg-white dark:bg-zinc-900 shadow-md rounded-md",children:[i("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[t("h2",{className:"text-2xl font-extrabold text-gray-800 dark:text-white",children:l("Promo Gallery")}),t("input",{type:"text",value:h,onChange:u,placeholder:l("Search gallery..."),className:"mt-4 md:mt-0 px-4 py-2 border border-gray-300 rounded-md shadow-sm dark:bg-zinc-800 dark:border-zinc-600 dark:text-white w-full md:w-1/3"})]}),t("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:a.data.length>0?a.data.map(e=>i("div",{className:"bg-gray-50 dark:bg-zinc-800 p-4 rounded-lg shadow-sm hover:shadow-md transition",children:[t(f,{href:`${route("gallerySinglePage.promo",e.slug)}?affiliate_code=${m}`,children:t("img",{src:e.thumbnail,alt:e.title,className:"w-full h-40 object-cover rounded-md cursor-pointer transition duration-300 hover:scale-105"})}),i("div",{className:"mt-4 flex justify-between items-center",children:[t("div",{className:"text-base font-semibold text-gray-700 dark:text-white",children:e.title}),t("button",{onClick:()=>p(e.images,e.id),title:"Download gallery",className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300",children:t(y,{icon:k})})]})]},e.id)):t("div",{className:"text-gray-500 dark:text-gray-400 col-span-full text-center py-10",children:l("No Promo gallery Found")})}),a.links&&a.links.length>3&&t("div",{className:"mt-10 flex justify-center flex-wrap gap-2",children:a.links.map((e,r)=>t("button",{disabled:!e.url,onClick:()=>e.url&&n.Inertia.visit(e.url),className:`px-3 py-1 rounded border text-sm ${e.active?"bg-indigo-600 text-white":"bg-white dark:bg-zinc-800 text-gray-700 dark:text-gray-200"} ${e.url?"hover:bg-indigo-100 dark:hover:bg-zinc-700":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:e.label}},r))})]})}export{$ as default};
