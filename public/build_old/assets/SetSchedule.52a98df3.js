import{_ as n}from"./Translate.dc83ae5b.js";import{u as S,r as m,d as _,j as o,F as w,a as r,h as $}from"./app.19cefab4.js";import{S as I}from"./Spinner.35c7a0bf.js";import{P}from"./PrimaryButton.13d0606e.js";import{I as M}from"./InputLabel.dc3a6c34.js";import{T as C}from"./TextInput.578de99c.js";import{N as i}from"./NumberInput.2ad75b1a.js";import{Q as u}from"./react-toastify.esm.594ac60b.js";function D(){const{auth:v}=S().props,c=v.user,[h,l]=m.exports.useState(!0),[t,g]=m.exports.useState({}),[p,f]=m.exports.useState("");m.exports.useEffect(()=>{b(),N()},[]);const b=()=>{_.get(route("schedule.get",{user:c.id})).then(e=>{console.log(e.data),g(e.data),l(!1)}).catch(e=>{var s,a;return u.error((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)})},N=()=>{_.get(route("schedule.getInfo",{user:c.id})).then(e=>{f(e.data),l(!1)}).catch(e=>{var s,a;return u.error((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)})},y=e=>{e.preventDefault(),$.Inertia.visit(route("schedule.save"),{method:"POST",data:{schedule:t,scheduleInfo:p},preserveScroll:!0,onBefore:()=>l(!0),onFinish:()=>l(!1),onError:s=>{var a,x;return u.error((x=(a=s.response)==null?void 0:a.data)==null?void 0:x.message)}})},d=(e,s,a)=>{console.log(`Would update Day: ${e}, Key: ${s}, Value: ${a}`),g({...t,[e]:{...t[e],[s]:a}})};return o(w,{children:[o("header",{className:"mt-10 border-t pt-10",children:[r("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:n("Streaming Schedule")}),r("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:n("Set your streaming schedule for users to get an idea on your live times")})]}),h&&r("div",{className:"my-5",children:r(I,{})}),o("form",{onSubmit:y,children:[r("div",{className:"mt-4",children:r(C,{value:p,className:"w-full",placeholder:n("Enter schedule info like All times in PST, etc."),handleChange:e=>f(e.target.value)})}),r("div",{className:"mt-4",children:Object.keys(t).map((e,s)=>r("div",{children:o("div",{className:"flex mb-5 md:items-center flex-col md:flex-row md:space-x-2",children:[r("div",{className:"md:w-24 md:text-sm mb-2 md:mb-0 text-gray-600 bg-gray-200 rounded-lg py-3 text-center",children:t[e].day_name}),o("div",{className:"flex items-center space-x-2",children:[r(i,{type:"number",max:12,min:0,name:`${t[e].day_name}_from_hour`,value:t[e].from_hour||"",className:"w-full md:w-20",handleChange:a=>d(e,"from_hour",a.target.value)}),r("span",{className:"py-2 px-3 text-gray-600 bg-gray-200 rounded-lg",children:":"}),r(i,{type:"number",max:59,min:0,name:`${t[e].day_name}_from_minute`,value:t[e].from_minute||"",className:"w-full md:w-20",handleChange:a=>d(e,"from_minute",a.target.value)}),o("select",{name:`${t[e].day_name}_from_type`,value:t[e].from_type,onChange:a=>d(e,"from_type",a.target.value),required:!0,className:" border-zinc-300 dark:border-zinc-700 dark:bg-zinc-800 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm ",children:[r("option",{value:"AM",children:n("AM")}),r("option",{value:"PM",children:n("PM")})]})]}),r(M,{className:"my-3 md:my-0",children:n("To")}),o("div",{className:"flex items-center space-x-2",children:[r(i,{className:"w-full md:w-20",type:"number",max:12,min:0,value:t[e].to_hour||"",name:`${t[e].day_name}_to_hour`,handleChange:a=>d(e,"to_hour",a.target.value)}),r("span",{className:"py-2 px-3 text-gray-600 bg-gray-200 rounded-lg",children:":"}),r(i,{className:"w-full md:w-20",type:"number",max:59,min:0,value:t[e].to_minute||"",name:`${t[e].day_name}_to_minute`,handleChange:a=>d(e,"to_minute",a.target.value)}),o("select",{name:`${t[e].day_name}_to_type`,value:t[e].to_type,onChange:a=>d(e,"to_type",a.target.value),required:!0,className:"w-20 border-zinc-300 dark:border-zinc-700 dark:bg-zinc-800 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm ",children:[r("option",{value:"AM",children:n("AM")}),r("option",{value:"PM",children:n("PM")})]})]})]})},`schedule-${s}`))}),r(P,{processing:h,className:"mt-5",children:n("Save")})]})]})}export{D as default};
