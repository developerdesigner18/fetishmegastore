import{R as s,a as U}from"./app.19cefab4.js";import{p as u}from"./index.517f43d0.js";var G="https://js.stripe.com/v3",pe=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,q="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",fe=function(){for(var e=document.querySelectorAll('script[src^="'.concat(G,'"]')),t=0;t<e.length;t++){var n=e[t];if(!!pe.test(n.src))return n}return null},de=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(G).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},me=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"1.54.2",startTime:t})},R=null,ve=function(e){return R!==null||(R=new Promise(function(t,n){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe&&e&&console.warn(q),window.Stripe){t(window.Stripe);return}try{var a=fe();a&&e?console.warn(q):a||(a=de(e)),a.addEventListener("load",function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}),a.addEventListener("error",function(){n(new Error("Failed to load Stripe.js"))})}catch(i){n(i);return}})),R},he=function(e,t,n){if(e===null)return null;var a=e.apply(void 0,t);return me(a,n),a},J=Promise.resolve().then(function(){return ve(null)}),V=!1;J.catch(function(r){V||console.warn(r)});var Ie=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];V=!0;var a=Date.now();return J.then(function(i){return he(i,t,a)})};function $(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function D(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$(Object(t),!0).forEach(function(n){z(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):$(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function N(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?N=function(e){return typeof e}:N=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(r)}function z(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function X(r,e){return ye(r)||Ce(r,e)||ge(r,e)||Se()}function ye(r){if(Array.isArray(r))return r}function Ce(r,e){var t=r&&(typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"]);if(t!=null){var n=[],a=!0,i=!1,p,m;try{for(t=t.call(r);!(a=(p=t.next()).done)&&(n.push(p.value),!(e&&n.length===e));a=!0);}catch(o){i=!0,m=o}finally{try{!a&&t.return!=null&&t.return()}finally{if(i)throw m}}return n}}function ge(r,e){if(!!r){if(typeof r=="string")return F(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return F(r,e)}}function F(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v=function(e,t,n){var a=!!n,i=s.useRef(n);s.useEffect(function(){i.current=n},[n]),s.useEffect(function(){if(!a||!e)return function(){};var p=function(){i.current&&i.current.apply(i,arguments)};return e.on(t,p),function(){e.off(t,p)}},[a,t,e,i])},W=function(e){var t=s.useRef(e);return s.useEffect(function(){t.current=e},[e]),t.current},w=function(e){return e!==null&&N(e)==="object"},Ee=function(e){return w(e)&&typeof e.then=="function"},xe=function(e){return w(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},K="[object Object]",be=function r(e,t){if(!w(e)||!w(t))return e===t;var n=Array.isArray(e),a=Array.isArray(t);if(n!==a)return!1;var i=Object.prototype.toString.call(e)===K,p=Object.prototype.toString.call(t)===K;if(i!==p)return!1;if(!i&&!n)return e===t;var m=Object.keys(e),o=Object.keys(t);if(m.length!==o.length)return!1;for(var C={},h=0;h<m.length;h+=1)C[m[h]]=!0;for(var g=0;g<o.length;g+=1)C[o[g]]=!0;var f=Object.keys(C);if(f.length!==m.length)return!1;var b=e,x=t,S=function(O){return r(b[O],x[O])};return f.every(S)},H=function(e,t,n){return w(e)?Object.keys(e).reduce(function(a,i){var p=!w(t)||!be(e[i],t[i]);return n.includes(i)?(p&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):p?D(D({},a||{}),{},z({},i,e[i])):a},null):null},Q="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Y=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q;if(e===null||xe(e))return e;throw new Error(t)},we=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q;if(Ee(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(a){return Y(a,t)})};var n=Y(e,t);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},ke=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.7.3"}),e.registerAppInfo({name:"react-stripe-js",version:"2.7.3",url:"https://stripe.com/docs/stripe-js/react"}))},T=s.createContext(null);T.displayName="ElementsContext";var Z=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},Oe=function(e){var t=e.stripe,n=e.options,a=e.children,i=s.useMemo(function(){return we(t)},[t]),p=s.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),m=X(p,2),o=m[0],C=m[1];s.useEffect(function(){var f=!0,b=function(S){C(function(k){return k.stripe?k:{stripe:S,elements:S.elements(n)}})};return i.tag==="async"&&!o.stripe?i.stripePromise.then(function(x){x&&f&&b(x)}):i.tag==="sync"&&!o.stripe&&b(i.stripe),function(){f=!1}},[i,o,n]);var h=W(t);s.useEffect(function(){h!==null&&h!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[h,t]);var g=W(n);return s.useEffect(function(){if(!!o.elements){var f=H(n,g,["clientSecret","fonts"]);f&&o.elements.update(f)}},[n,g,o.elements]),s.useEffect(function(){ke(o.stripe)},[o.stripe]),U(T.Provider,{value:o,children:a})};Oe.propTypes={stripe:u.exports.any,options:u.exports.object};var Pe=function(e){var t=s.useContext(T);return Z(t,e)},Ue=function(){var e=Pe("calls useElements()"),t=e.elements;return t};u.exports.func.isRequired;var ee=s.createContext(null);ee.displayName="CustomCheckoutSdkContext";var je=function(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e},Ae=s.createContext(null);Ae.displayName="CustomCheckoutContext";u.exports.any,u.exports.shape({clientSecret:u.exports.string.isRequired,elementsOptions:u.exports.object}).isRequired;var _=function(e){var t=s.useContext(ee),n=s.useContext(T);if(t&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return t?je(t,e):Z(n,e)},Re=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},c=function(e,t){var n="".concat(Re(e),"Element"),a=function(o){var C=o.id,h=o.className,g=o.options,f=g===void 0?{}:g,b=o.onBlur,x=o.onFocus,S=o.onReady,k=o.onChange,O=o.onEscape,te=o.onClick,re=o.onLoadError,ne=o.onLoaderStart,oe=o.onNetworksChange,ae=o.onConfirm,ie=o.onCancel,se=o.onShippingAddressChange,ue=o.onShippingRateChange,P=_("mounts <".concat(n,">")),j="elements"in P?P.elements:null,A="customCheckoutSdk"in P?P.customCheckoutSdk:null,ce=s.useState(null),B=X(ce,2),d=B[0],le=B[1],E=s.useRef(null),L=s.useRef(null);v(d,"blur",b),v(d,"focus",x),v(d,"escape",O),v(d,"click",te),v(d,"loaderror",re),v(d,"loaderstart",ne),v(d,"networkschange",oe),v(d,"confirm",ae),v(d,"cancel",ie),v(d,"shippingaddresschange",se),v(d,"shippingratechange",ue),v(d,"change",k);var I;S&&(e==="expressCheckout"?I=S:I=function(){S(d)}),v(d,"ready",I),s.useLayoutEffect(function(){if(E.current===null&&L.current!==null&&(j||A)){var y=null;A?y=A.createElement(e,f):j&&(y=j.create(e,f)),E.current=y,le(y),y&&y.mount(L.current)}},[j,A,f]);var M=W(f);return s.useEffect(function(){if(!!E.current){var y=H(f,M,["paymentRequest"]);y&&E.current.update(y)}},[f,M]),s.useLayoutEffect(function(){return function(){if(E.current&&typeof E.current.destroy=="function")try{E.current.destroy(),E.current=null}catch{}}},[]),U("div",{id:C,className:h,ref:L})},i=function(o){_("mounts <".concat(n,">"));var C=o.id,h=o.className;return U("div",{id:C,className:h})},p=t?i:a;return p.propTypes={id:u.exports.string,className:u.exports.string,onChange:u.exports.func,onBlur:u.exports.func,onFocus:u.exports.func,onReady:u.exports.func,onEscape:u.exports.func,onClick:u.exports.func,onLoadError:u.exports.func,onLoaderStart:u.exports.func,onNetworksChange:u.exports.func,onConfirm:u.exports.func,onCancel:u.exports.func,onShippingAddressChange:u.exports.func,onShippingRateChange:u.exports.func,options:u.exports.object},p.displayName=n,p.__elementType=e,p},l=typeof window>"u",Ne=s.createContext(null);Ne.displayName="EmbeddedCheckoutProviderContext";var We=function(){var e=_("calls useStripe()"),t=e.stripe;return t};c("auBankAccount",l);var _e=c("card",l);c("cardNumber",l);c("cardExpiry",l);c("cardCvc",l);c("fpxBank",l);c("iban",l);c("idealBank",l);c("p24Bank",l);c("epsBank",l);var Be=c("payment",l);c("expressCheckout",l);c("paymentRequestButton",l);c("linkAuthentication",l);c("address",l);c("shippingAddress",l);c("paymentMethodMessaging",l);c("affirmMessage",l);c("afterpayClearpayMessage",l);export{_e as C,Oe as E,Be as P,Ue as a,Ie as l,We as u};
