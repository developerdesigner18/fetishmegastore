import{a as r,j as i,L as f,F as b}from"./app.19cefab4.js";import{g as v,h as p,i as x,j as y,k}from"./index.esm.3513504a.js";import{a as N}from"./index.esm.a625d265.js";import{_ as n}from"./Translate.dc83ae5b.js";import"./iconBase.c21c0bbc.js";function U({products:s=[],blocks:w=[]}){if(!s||s.length===0)return null;const c=e=>{var o;let t="",a={id:e.slug||e.id};switch((o=e.type)==null?void 0:o.toLowerCase()){case"video":t="video.single.page";break;case"audio":t="audio.single.page";break;case"ebook":t="ebook.single.page";break;case"short-video":t="short.video.single.page";break;case"gallery":t="single.gallery",a={slug:e.slug};break;default:return"#"}return route(t,a)},g=e=>{const t="/images/default-thumbnail.jpg";return e&&e.thumbnail?e.thumbnail.startsWith("http")?e.thumbnail:`/${e.thumbnail}`:t},m=e=>{const t="/images/default-profile.png";return e&&e.profile_picture?e.profile_picture.startsWith("http")?e.profile_picture:`/${e.profile_picture}`:t},u=e=>e&&e.videoGIF?e.videoGIF.startsWith("http")?e.videoGIF:`/${e.videoGIF}`:null,d=e=>{const t=g(e),a=u(e);return(e.type==="video"||e.type==="short-video")&&a?i(b,{children:[r("img",{src:t,alt:e.title,className:"w-full h-52 object-cover opacity-100 group-hover:opacity-0 transition-opacity duration-300 ease-in-out",onError:l=>{l.target.onerror=null,l.target.src="/images/default-thumbnail.jpg"}}),r("img",{src:a,alt:`${e.title} preview`,className:"w-full h-52 object-cover absolute top-0 left-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ease-in-out"})]}):r("img",{src:t,alt:e.title,className:"w-full h-52 object-cover transition-transform duration-300 ease-in-out group-hover:scale-110",onError:l=>{l.target.onerror=null,l.target.src="/images/default-thumbnail.jpg"}})},h=e=>{switch(e==null?void 0:e.toLowerCase()){case"video":return r(k,{className:"text-indigo-600 text-lg"});case"audio":return r(y,{className:"text-pink-500 text-lg"});case"ebook":return r(x,{className:"text-green-600 text-lg"});case"short-video":return r(p,{className:"text-yellow-500 text-lg"});case"gallery":return r(v,{className:"text-blue-500 text-lg"});default:return r(N,{className:"text-gray-500 text-lg"})}};return r("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 xl:grid-cols-3 gap-5",children:s.map(e=>{var t;return i(f,{href:c(e),className:"group border dark:border-zinc-800 shadow-sm rounded-lg overflow-hidden bg-white dark:bg-zinc-900 hover:shadow-lg cursor-pointer relative block",children:[i("div",{className:"relative overflow-hidden",children:[d(e),r("div",{className:"absolute top-0 right-0 bg-red-600 text-white px-3 py-1 text-sm font-semibold rounded-bl-lg z-10",children:e.price>0?`${e.price} ${n("Tokens")}`:n("Free")})]}),i("div",{className:"p-3",children:[r("h3",{className:"text-gray-800 dark:text-white font-semibold truncate",children:e.title}),i("div",{className:"flex justify-between items-center mt-2",children:[i("div",{className:"flex items-center space-x-2",children:[r("img",{src:m(e.streamer),alt:"Creator",className:"w-8 h-8 rounded-full object-cover",onError:a=>{a.target.onerror=null,a.target.src="/images/default-profile.png"}}),r("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:((t=e.streamer)==null?void 0:t.username)||"Unknown"})]}),r("div",{children:h(e.type)})]})]})]},`${e.type}-${e.id}`)})})}export{U as default};
