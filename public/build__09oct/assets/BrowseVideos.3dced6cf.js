import{r as s,u as me,j as i,a as t,H as ge,F as P,h as I}from"./app.34affac1.js";import{F as pe}from"./Front.2f497cc4.js";import{_ as r}from"./Translate.dc83ae5b.js";import{S as M}from"./SecondaryButton.36cc19fa.js";import{F as xe}from"./index.esm.7f1ba3c4.js";import{S as ue}from"./Spinner.5c8cecb0.js";import N from"./VideosLoopNew.cedc9919.js";import{M as R}from"./Modal.2d0ee4fc.js";import be from"./SingleVideoDetails.4d27725b.js";import{T as fe}from"./TextInput.c4f9f48a.js";import{A as we}from"./AdBar.b2a01026.js";import{a as Ne}from"./index.esm.d255fbec.js";import{P as ke}from"./Pagination.4d219ed1.js";import"./iconBase.80ee2b9c.js";import"./index.d05e1090.js";import"./index.3c050530.js";import"./index.3c59162f.js";import"./react-cookie-consent.esm.ec0aff76.js";import"./transition.d8bf0980.js";import"./react-toastify.esm.208331c3.js";import"./index.e7e076b2.js";import"./index.esm.d12dd736.js";import"./react-tooltip.min.0df8b080.js";/* empty css                          */import"./Loader.1271d84a.js";import"./AuthenticatedLayout.bb6c926f.js";import"./index.d90fd3ed.js";import"./PrimaryButton.404611c6.js";import"./index.esm.919a4028.js";import"./index.3914dbe3.js";import"./ShareLink.88a7619d.js";import"./TokenPurchasePopup.446089c1.js";import"./SubscribePopup.0fe72abe.js";import"./index.b07672ea.js";import"./index.ed936ace.js";import"./Textarea.86659e81.js";import"./VideosLoop.bc30ed76.js";import"./InputLabel.b86f84c0.js";import"./InputError.061d7836.js";import"./index.45c6bf09.js";import"./index.517f43d0.js";/* empty css             */function mt({userLoginID:k,userrequest:n={},randomvideos:c={data:[],total:0},recommendedVideo:b={data:[]},featuredChannels:f=[],videos:B,category:V,categories:$,exploreImage:j,tags:L,models:W,blocks:w,headTitle:D,faqs:h}){var T,A;const[d,E]=s.exports.useState(B||{data:[],total:0,current_page:1}),[v,Q]=s.exports.useState(n.sort||"Recently"),[m,U]=s.exports.useState(n.search||""),[Y,O]=s.exports.useState(!1),[G,y]=s.exports.useState(n.page||1),[g,J]=s.exports.useState(n.selectedCategories||[]),[p,K]=s.exports.useState(n.selectedTags||[]),[x,X]=s.exports.useState(n.selectedModels||[]),Z=d.current_page==1,[_,ve]=s.exports.useState(!1),[q,ee]=s.exports.useState(!1),{auth:ye,watchVideos:S=[]}=me().props,[te,F]=s.exports.useState(!1),C=s.exports.useRef(),re=m!==""||g.length>0||p.length>0||x.length>0;s.exports.useEffect(()=>{const e=localStorage.getItem("watchedPopupShown");S.length>0&&!e&&(F(!0),localStorage.setItem("watchedPopupShown","true"))},[S]);const z=(e,a)=>{O(!0),I.Inertia.get(route("videos.filter"),{...a,page:e},{preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:l=>{E(l.props.videos)},onFinish:()=>O(!1)})},ae=e=>{e.preventDefault(),y(1),z(1,{sort:v,search:m,selectedCategories:g,selectedTags:p,selectedModels:x}),H()},ie=e=>{y(e),z(e,{sort:v,search:m,selectedCategories:g,selectedTags:p,selectedModels:x})},se=e=>{const a=e.target.value;Q(a),y(1),z(1,{sort:a,search:m,selectedCategories:g,selectedTags:p,selectedModels:x})},le=e=>{const{value:a,checked:l}=e.target;J(o=>l?[...o,a]:o.filter(u=>u!==a))},oe=e=>{const{value:a,checked:l}=e.target;K(o=>l?[...o,a]:o.filter(u=>u!==a))},de=e=>{const{value:a,checked:l}=e.target;X(o=>l?[...o,a]:o.filter(u=>u!==a))},ne=e=>{e.preventDefault(),C.current.className="fixed inset-0 z-[9999] pt-5 px-2 overflow-scroll h-screen bg-white dark:bg-black block w-2/3 flex-shrink-0 mr-5"},H=e=>{e==null||e.preventDefault(),C.current.className="hidden lg:block w-56 lg:flex-shrink-0 lg:mr-5"},ce=e=>{e.preventDefault(),I.Inertia.visit(route("videos.browse"))},he=async()=>{try{await axios.post(route("cache.clear"))}catch(e){console.error("Cache clear error:",e)}F(!1)};return i(pe,{containerClass:"w-full",extraHeader:!0,extraHeaderTitle:r("Browse Videos"),extraHeaderImage:j,extraHeaderText:"",extraImageHeight:"h-14",children:[t(ge,{title:`${V!==null?r(":categoryName Videos",{categoryName:V.category}):D}`}),t(R,{show:q,onClose:e=>ee(!1),children:_&&t(be,{video:_,inModal:!0})}),t(R,{show:te,onClose:()=>F(!1),children:i("div",{className:"border dark:border-zinc-800 shadow-sm p-4 rounded-lg pb-2 bg-white dark:bg-zinc-900",children:[t("h2",{className:"text-xl font-bold text-indigo-700 dark:text-white mb-4",children:r("Watched Your Videos")}),t("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-5",children:S.map(e=>{var a;return i("div",{className:"border dark:border-zinc-800 shadow-sm rounded-lg pb-2 bg-white dark:bg-zinc-900 w-full",children:[i("div",{className:"relative",children:[t("a",{href:route("video.single.page",{id:e.slug}),"data-price":e.price,children:t("img",{src:e.thumbnail,alt:e.title,className:"mb-3"})}),t("div",{className:"absolute top-5 left-0 bg-indigo-800 text-white font-bold text-sm uppercase rounded-tr rounded-br px-2 py-1",children:e.price<1?r("Free"):t("div",{className:"flex items-center",children:e.price})})]}),i("div",{className:"inline-flex items-center px-3",children:[t("div",{className:"w-10 flex-shrink-0 mr-2",children:t("a",{href:e.streamer?route("channel",{user:e.streamer.username}):"#",children:(a=e.streamer)!=null&&a.profile_picture?t("img",{src:e.streamer.profile_picture,alt:"Streamer",className:"w-10 h-10 rounded-full"}):t("div",{className:"w-10 h-10 rounded-full bg-gray-300"})})}),t("div",{className:"h-5 overflow-hidden",children:t("a",{className:"font-semibold dark:text-indigo-100 hover:text-indigo-800 text-indigo-600 dark:hover:text-indigo-400",href:route("video.single.page",{id:e.slug}),children:e.title})})]})]},`vid-${e.id}`)})}),t("div",{className:"mt-4 text-center",children:t(M,{onClick:he,children:r("Close")})})]})}),i("div",{className:"flex w-full -mt-16",children:[t("form",{onSubmit:ae,children:i("div",{ref:C,className:"hidden lg:block w-56 lg:flex-shrink-0 lg:mr-5",children:[t("h3",{className:"text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900 dark:text-white shadow rounded-t-lg",children:r("Search")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3",children:t(fe,{className:"w-full",name:"search",value:m,handleChange:e=>U(e.target.value),placeholder:r("Search Video")})}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900 dark:text-white shadow rounded-t-lg",children:r("Sort By")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3",children:["Most","Recently","Older","Highest","Lowest","Only Free"].map(e=>i("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer",children:[t("input",{type:"radio",name:"sort",value:e,checked:v===e,className:"mr-2",onChange:se}),r(e==="Most"?"Most Viewed":e==="Recently"?"Newest Uploaded":e==="Older"?"Older Videos":e==="Highest"?"Highest Price":e==="Lowest"?"Lowest Price":"Only Free")]},e))}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900  dark:text-white shadow rounded-t-lg",children:r("Category")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3 overflow-y-auto h-48",children:$.map(e=>i("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer",children:[t("input",{type:"checkbox",name:"categories[]",className:"mr-2",value:e.id,onChange:le,checked:g.includes(String(e.id))}),e.category]},`catFilter-${e.id}`))}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900  dark:text-white shadow rounded-t-lg",children:r("Tags")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3 overflow-y-auto h-48",children:L.map(e=>{var a;return i("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer	",children:[t("input",{type:"checkbox",name:"tags[]",className:"mr-2",value:e.name,onChange:oe,checked:p.includes((a=e==null?void 0:e.name)==null?void 0:a.toString())}),e.name]},`tagFilter-${e.id}`)})}),t("h3",{className:"mt-5 text-indigo-700 text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900  dark:text-white shadow rounded-t-lg",children:r("Models")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3 overflow-y-auto h-48",children:W.map(e=>i("label",{className:"flex items-center text-gray-600 dark:text-white cursor-pointer",children:[t("input",{type:"checkbox",name:"models[]",className:"mr-2",value:e.id,onChange:de,checked:x.includes(e.id.toString())}),e.name]},`modelFilter-${e.id}`))}),Y?t("div",{className:"my-3",children:t(ue,{})}):t("button",{type:"submit",className:"mt-5 bg-indigo-500 dark:bg-zinc-800 font-semibold text-white rounded-lg px-2 py-1.5 block w-full",children:r("Apply Filters")}),t(M,{className:"mt-2",onClick:ce,children:r("Reset")}),t("div",{className:"lg:hidden text-center border-t border-t-gray-300 dark:border-gray-900 py-5",children:t(M,{className:"",onClick:e=>H(e),children:r("Close")})})]})}),i("div",{className:"flex-grow",children:[i("button",{onClick:e=>ne(e),className:"mb-7 px-3 -mt-1 py-1.5 bg-indigo-500 text-white rounded-lg lg:hidden flex items-center justify-end",children:[t(Ne,{className:"mr-1"}),r("Show Filters")]}),d.total===0&&i("div",{className:"text-xl bg-white rounded-lg shadow text-gray-600 dark:bg-zinc-900 dark:text-white font-light p-3 flex items-center",children:[t(xe,{className:"w-12 h-12 mr-2"}),r("No videos to show")]}),Z&&!re&&((T=c==null?void 0:c.data)==null?void 0:T.length)>0&&i("div",{children:[t("h2",{className:"text-indigo-700 text-2xl font-bold dark:text-white",children:r("Random Videos")}),t(N,{videos:c.data,blocks:w,types:c.data.map(e=>e.type),userLoginID:k}),t("h2",{className:"text-indigo-700 text-2xl font-bold dark:text-white",children:r("Filtered Videos")})]}),t(N,{videos:d.data,blocks:w,userLoginID:k}),((A=b==null?void 0:b.data)==null?void 0:A.length)>0&&i(P,{children:[t("h2",{className:"text-indigo-700 text-2xl font-bold dark:text-white",children:r("Recommended Videos")}),t(N,{videos:b.data,blocks:w})]}),(f==null?void 0:f.length)>0&&i(P,{children:[t("h2",{className:"text-indigo-700 text-2xl font-bold dark:text-white",children:r("Featured Channels Videos")}),f.map(e=>t("div",{className:"my-5",children:e.videos&&e.videos.length>0?t(N,{videos:e.videos,blocks:w,userLoginID:k}):t("div",{className:"text-gray-600 dark:text-white mt-3",children:r("No featured videos found")})},e.id))]}),d.last_page>1&&i(P,{children:[t("div",{className:"flex text-gray-600 mt-10 mb-5 text-sm",children:r("Page: :pageNumber of :lastPage",{pageNumber:d.current_page,lastPage:d.last_page})}),t(ke,{total:d.last_page*10,current:G,onChange:ie,showSizeChanger:!1})]}),t("br",{}),t("div",{className:"mt-3",children:t(we,{})}),h&&Array.isArray(h)&&h.length>0&&i("div",{className:"mt-10",children:[t("h2",{className:"text-indigo-700 text-2xl font-bold dark:text-white mb-4",children:r("Frequently Asked Questions")}),t("div",{className:"space-y-4",children:h.slice(0,5).map(e=>t("div",{className:"bg-white dark:bg-zinc-800 shadow rounded-lg",children:i("details",{className:"group p-4",children:[t("summary",{className:"font-semibold cursor-pointer text-lg text-indigo-700 dark:text-indigo-300",children:e.question}),t("p",{className:"mt-2 text-gray-700 dark:text-gray-200 leading-relaxed",children:e.answer})]})},e.id))}),h.length>5&&t("div",{className:"text-center mt-6",children:t("a",{href:route("web.faq.index"),className:"px-5 py-3 bg-indigo-800 border border-transparent rounded font-black text-xs text-white uppercase tracking-widest hover:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:border-gray-900 focus:ring ring-gray-300 disabled:opacity-25 transition ease-in-out duration-150",children:r("View More FAQs")})})]})]})]})]})}export{mt as default};
