import{u as _,r as w,i as P,j as r,a as e,L as C}from"./app.34affac1.js";import{I as n}from"./InputError.061d7836.js";import{I as c}from"./InputLabel.b86f84c0.js";import{P as I}from"./PrimaryButton.404611c6.js";import{T as d}from"./TextInput.c4f9f48a.js";import{_ as i}from"./Translate.dc83ae5b.js";import{q as L}from"./transition.d8bf0980.js";function z({mustVerifyEmail:u,status:f,className:g,affiliate_code:U,is_subscribe:h}){const{props:m}=_(),t=m.auth.user,l=m.errors||{},[p,b]=w.exports.useState(t.profile_picture),{data:o,setData:s,post:v,processing:x,recentlySuccessful:y}=P({name:t.name,email:t.email,username:t.username,affiliate_code:"",is_subscribe:h===1}),k=a=>{a.preventDefault(),v(route("profile.update"),{preserveState:!1})},N=a=>{s("profilePicture",a),b((window.URL?URL:webkitURL).createObjectURL(a))};return r("section",{className:g,children:[r("header",{children:[e("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:i("Profile Information")}),e("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:i("Update your account's profile information and email address.")})]}),r("form",{onSubmit:k,className:"mt-6 space-y-6",children:[e("div",{children:t.is_subscribe===1?e("div",{className:"text-sm text-green-600 dark:text-green-400",children:"You have already subscribed."}):r("div",{className:"flex items-center mt-4",children:[e("input",{id:"is_subscribe",type:"checkbox",checked:o.is_subscribe,onChange:a=>s("is_subscribe",a.target.checked),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),e("label",{htmlFor:"is_subscribe",className:"ml-2 block text-sm text-gray-900 dark:text-gray-100",children:"Do you want to subscribe?"})]})}),r("div",{children:[e(c,{for:"username",value:i("Username")}),e(d,{id:"username",className:"mt-1 block w-full",value:o.username,handleChange:a=>s("username",a.target.value),required:!0,autofocus:!0}),e(n,{className:"mt-2",message:l.username})]}),r("div",{children:[e(c,{for:"name",value:"Name"}),e(d,{id:"name",className:"mt-1 block w-full",value:o.name,handleChange:a=>s("name",a.target.value),required:!0,autofocus:!0,autocomplete:"name"}),e(n,{className:"mt-2",message:l.name})]}),r("div",{children:[e(c,{for:"email",value:"Email"}),e(d,{id:"email",type:"email",className:"mt-1 block w-full",value:o.email,handleChange:a=>s("email",a.target.value),required:!0,autocomplete:"email"}),e(n,{className:"mt-2",message:l.email})]}),r("div",{children:[e(c,{for:"profilePicture",value:i("Profile Picture - 80x80 recommended")}),e(d,{className:"p-1 block w-full text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-300 focus:outline-none dark:bg-zinc-800 dark:border-gray-600 dark:placeholder-zinc-900",id:"profilePicture",type:"file",handleChange:a=>N(a.target.files[0])}),e(n,{className:"mt-2",message:l.profilePicture}),e("img",{src:p,alt:"profile picture",className:"h-20 rounded-full mt-2 border-white border-2 dark:border-indigo-200"})]}),r("div",{children:[e(c,{for:"affiliate_code",value:"Affiliate Code"}),e(d,{id:"affiliate_code",className:`mt-1 block w-full ${t.affiliate_user?"bg-gray-100 text-gray-500 cursor-not-allowed":""}`,value:t.affiliate_user?t.affiliate_code:o.affiliate_code,handleChange:a=>s("affiliate_code",a.target.value),autoComplete:"affiliate_code",readOnly:t.affiliate_user}),e(n,{className:"mt-2",message:l.affiliate_code})]}),u&&t.email_verified_at===null&&r("div",{children:[r("p",{className:"text-sm mt-2 text-gray-800 dark:text-gray-200",children:[i("Your email address is unverified."),e(C,{href:route("verification.send"),method:"post",as:"button",className:"underline text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800",children:i("Click here to re-send the verification email.")})]}),f==="verification-link-sent"&&e("div",{className:"mt-2 font-medium text-sm text-green-600 dark:text-green-400",children:i("A new verification link has been sent to your email address.")})]}),r("div",{className:"flex items-center gap-4",children:[e(I,{processing:x,children:i("Save")}),e(L,{show:y,enterFrom:"opacity-0",leaveTo:"opacity-0",className:"transition ease-in-out",children:r("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i("Saved"),"."]})})]})]})]})}export{z as default};
