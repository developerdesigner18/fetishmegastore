import{_ as i}from"./Translate.dc83ae5b.js";import{u as x,r as c,h as m,a as e,j as r,H as b,L as n,F as f}from"./app.34affac1.js";import{A as k}from"./AuthenticatedLayout.bb6c926f.js";import{M as o,b as v}from"./index.3c050530.js";import{S as h}from"./Spinner.5c8cecb0.js";import"./Front.2f497cc4.js";import"./iconBase.80ee2b9c.js";import"./index.d05e1090.js";import"./index.3c59162f.js";import"./react-cookie-consent.esm.ec0aff76.js";import"./transition.d8bf0980.js";import"./Modal.2d0ee4fc.js";import"./react-toastify.esm.208331c3.js";import"./TextInput.c4f9f48a.js";import"./index.e7e076b2.js";import"./index.esm.d12dd736.js";function L({audio:t}){const{props:u}=x(),a=u.auth,[l,d]=c.exports.useState(!1);if(c.exports.useEffect(()=>{(!a||!a.user)&&m.Inertia.visit(route("login"))},[a]),!a||!a.user)return e(h,{});const p=s=>{s.preventDefault(),console.log(s,"e"),console.log(t,"audio"),m.Inertia.visit(route("audio.purchase",{audio:t.id}),{method:"POST",onBefore:g=>{d(!0)},onFinish:g=>{d(!1)}})};return r(k,{children:[e(b,{title:i("Unlock Audio: :audioTitle",{audio:t.title})}),e("div",{className:"ml-0",children:r("div",{className:"p-4 sm:p-8 bg-gray-100 dark:bg-zinc-900 shadow sm:rounded-lg",children:[e("header",{children:r("div",{className:"justify-center flex items-center space-x-2 flex-wrap",children:[e("div",{children:e(n,{href:route("channel",{user:t.streamer.username}),children:e("img",{src:t.streamer.profile_picture,alt:"",className:"rounded-full h-14 border-zinc-200 dark:border-indigo-200 border"})})}),r("div",{children:[e(n,{href:route("channel",{user:t.streamer.username}),children:e("h2",{className:"text-center text-2xl font-medium text-gray-800 dark:text-gray-100",children:i("Unlock :audioTitle",{audioTitle:t.title})})}),e("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400 text-center",children:i("Confirm your purchase")})]})]})}),r("div",{className:"border-t pt-5 text-xl text-center font-light mt-8 dark:text-white",children:[r("p",{className:"bg-white shadow text-gray-800 font-semibold inline-flex rounded-lg p-2",children:[e(o,{className:"h-6 w-6"})," ",i("Price: :price tokens",{price:t.price})]}),e("br",{}),r("p",{className:"mt-3 bg-white shadow text-gray-800 text-sm font-semibold inline-flex rounded-lg p-2",children:[" ",e(v,{className:"w-4 h-4"})," ",i("Your Balance: :userBalance tokens",{userBalance:a.user.tokens})]}),e("div",{className:"mt-5 border-t pt-5",children:t.price<=a.user.tokens?r(f,{children:[r("button",{onClick:s=>p(s),className:"py-2 px-3 mt-2 mb-3 inline-flex rounded-md items-center bg-pink-500 text-white font-semibold hover:bg-pink-600 disabled:bg-gray-300 disabled:text-gray-700",disabled:l,children:[e(o,{className:"h-6 w-6 mr-2"}),e("div",{children:i("Purchase Audio : :userBalance ",{userBalance:t.title})})]}),e("br",{}),l&&e("center",{children:e(h,{})})]}):r("div",{className:"text-gray-700 dark:text-white text-base",children:[i("You need to charge your token balance to be able to unlock this audio"),e("br",{}),r(n,{href:route("token.packages"),className:"py-1.5 px-3 mt-2 inline-flex border-2 rounded-md hover:border-gray-700 hover:text-gray-700 items-center border-indigo-600 text-indigo-600 dark:border-white dark:text-white dark:hover:border-indigo-200 dark:hover:text-indigo-200",children:[e(o,{className:"h-6 w-6 mr-2"}),e("div",{children:i("Token Packages")})]})]})})]})]})})]})}export{L as default};
